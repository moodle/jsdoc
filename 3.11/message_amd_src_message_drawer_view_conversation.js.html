<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>message/amd/src/message_drawer_view_conversation.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://docs.moodle.org/dev" target="_blank" class="menu-item" id="devdocs" >Developer Docs</a></h2><h2><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" target="_blank" class="menu-item" id="mdndocs" >MDN Docs</a></h2><h3>Modules</h3><ul><li><a href="module-block_accessreview_module.html">block_accessreview/module</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-block_accessreview_module.html#~fetchReviewData">fetchReviewData</a></li><li data-type='method' style='display: none;'><a href="module-block_accessreview_module.html#~getErrorTotals">getErrorTotals</a></li><li data-type='method' style='display: none;'><a href="module-block_accessreview_module.html#~getTogglePreferenceParams">getTogglePreferenceParams</a></li><li data-type='method' style='display: none;'><a href="module-block_accessreview_module.html#~hideAccessMap">hideAccessMap</a></li><li data-type='method' style='display: none;'><a href="module-block_accessreview_module.html#~renderTemplate">renderTemplate</a></li><li data-type='method' style='display: none;'><a href="module-block_accessreview_module.html#~showAccessMap">showAccessMap</a></li><li data-type='method' style='display: none;'><a href="module-block_accessreview_module.html#~toggleAccessMap">toggleAccessMap</a></li></ul></li><li><a href="module-block_myoverview_repository.html">block_myoverview/repository</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-block_myoverview_repository.html#~getEnrolledCoursesByTimeline">getEnrolledCoursesByTimeline</a></li></ul></li><li><a href="module-block_navigation_ajax_response_renderer.html">block_navigation/ajax_response_renderer</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-block_navigation_ajax_response_renderer.html#~buildDOM">buildDOM</a></li></ul></li><li><a href="module-block_navigation_nav_loader.html">block_navigation/nav_loader</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-block_navigation_nav_loader.html#~getBlockInstanceId">getBlockInstanceId</a></li></ul></li><li><a href="module-block_navigation_navblock.html">block_navigation/navblock</a></li><li><a href="module-block_navigation_site_admin_loader.html">block_navigation/site_admin_loader</a></li><li><a href="module-block_online_users_change_user_visibility.html">block_online_users/change_user_visibility</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-block_online_users_change_user_visibility.html#~init">init</a></li></ul></li><li><a href="module-block_private_files_files_tree.html">block_private_files/files_tree</a></li><li><a href="module-block_recentlyaccessedcourses_main.html">block_recentlyaccessedcourses/main</a></li><li><a href="module-block_recentlyaccesseditems_main.html">block_recentlyaccesseditems/main</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-block_recentlyaccesseditems_main.html#~getRecentItems">getRecentItems</a></li><li data-type='method' style='display: none;'><a href="module-block_recentlyaccesseditems_main.html#~renderItems">renderItems</a></li></ul></li><li><a href="module-block_recentlyaccesseditems_repository.html">block_recentlyaccesseditems/repository</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-block_recentlyaccesseditems_repository.html#~getRecentItems">getRecentItems</a></li></ul></li><li><a href="module-block_settings_settingsblock.html">block_settings/settingsblock</a></li><li><a href="module-block_starredcourses_main.html">block_starredcourses/main</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-block_starredcourses_main.html#~renderCourses">renderCourses</a></li></ul></li><li><a href="module-block_starredcourses_repository.html">block_starredcourses/repository</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-block_starredcourses_repository.html#~getStarredCourses">getStarredCourses</a></li></ul></li><li><a href="module-block_timeline_calendar_events_repository.html">block_timeline/calendar_events_repository</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-block_timeline_calendar_events_repository.html#~queryByCourse">queryByCourse</a></li><li data-type='method' style='display: none;'><a href="module-block_timeline_calendar_events_repository.html#~queryByCourses">queryByCourses</a></li><li data-type='method' style='display: none;'><a href="module-block_timeline_calendar_events_repository.html#~queryByTime">queryByTime</a></li></ul></li><li><a href="module-block_timeline_event_list.html">block_timeline/event_list</a></li><li><a href="module-core_addblockmodal.html">core/addblockmodal</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_addblockmodal.html#~buildAddBlockModal">buildAddBlockModal</a></li><li data-type='method' style='display: none;'><a href="module-core_addblockmodal.html#~getAddableBlocks">getAddableBlocks</a></li><li data-type='method' style='display: none;'><a href="module-core_addblockmodal.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-core_addblockmodal.html#~registerListenerEvents">registerListenerEvents</a></li><li data-type='method' style='display: none;'><a href="module-core_addblockmodal.html#~renderBlocks">renderBlocks</a></li></ul></li><li><a href="module-core_ajax.html">core/ajax</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_ajax.html#~call">call</a></li></ul></li><li><a href="module-core_aria.html">core/aria</a></li><li><a href="module-core_auto_rows.html">core/auto_rows</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_auto_rows.html#~init">init</a></li></ul></li><li></li><li><a href="module-core_backoff_timer.html">core/backoff_timer</a></li><li><a href="module-core_chart_axis.html">core/chart_axis</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_chart_axis.html#.create">create</a></li><li data-type='method' style='display: none;'><a href="module-core_chart_axis.html#~getLabel">getLabel</a></li><li data-type='method' style='display: none;'><a href="module-core_chart_axis.html#~getLabels">getLabels</a></li><li data-type='method' style='display: none;'><a href="module-core_chart_axis.html#~getMax">getMax</a></li><li data-type='method' style='display: none;'><a href="module-core_chart_axis.html#~getMin">getMin</a></li><li data-type='method' style='display: none;'><a href="module-core_chart_axis.html#~getPosition">getPosition</a></li><li data-type='method' style='display: none;'><a href="module-core_chart_axis.html#~getStepSize">getStepSize</a></li><li data-type='method' style='display: none;'><a href="module-core_chart_axis.html#~setLabel">setLabel</a></li><li data-type='method' style='display: none;'><a href="module-core_chart_axis.html#~setLabels">setLabels</a></li><li data-type='method' style='display: none;'><a href="module-core_chart_axis.html#~setMax">setMax</a></li><li data-type='method' style='display: none;'><a href="module-core_chart_axis.html#~setMin">setMin</a></li><li data-type='method' style='display: none;'><a href="module-core_chart_axis.html#~setPosition">setPosition</a></li><li data-type='method' style='display: none;'><a href="module-core_chart_axis.html#~setStepSize">setStepSize</a></li></ul></li><li><a href="module-core_chart_bar.html">core/chart_bar</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_chart_bar.html#~setStacked">setStacked</a></li></ul></li><li><a href="module-core_chart_base.html">core/chart_base</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_chart_base.html#.create">create</a></li></ul></li><li><a href="module-core_chart_builder.html">core/chart_builder</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_chart_builder.html#.make">make</a></li></ul></li><li><a href="module-core_chart_line.html">core/chart_line</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_chart_line.html#~getSmooth">getSmooth</a></li><li data-type='method' style='display: none;'><a href="module-core_chart_line.html#~setSmooth">setSmooth</a></li></ul></li><li><a href="module-core_chart_output.html">core/chart_output</a></li><li><a href="module-core_chart_output_base.html">core/chart_output_base</a></li><li><a href="module-core_chart_output_chartjs.html">core/chart_output_chartjs</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_chart_output_chartjs.html#~getChartType">getChartType</a></li></ul></li><li><a href="module-core_chart_output_htmltable.html">core/chart_output_htmltable</a></li><li><a href="module-core_chart_pie.html">core/chart_pie</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_chart_pie.html#~getDoughnut">getDoughnut</a></li><li data-type='method' style='display: none;'><a href="module-core_chart_pie.html#~setDoughnut">setDoughnut</a></li></ul></li><li><a href="module-core_chart_series.html">core/chart_series</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_chart_series.html#.create">create</a></li></ul></li><li><a href="module-core_checkbox-toggleall.html">core/checkbox-toggleall</a></li><li><a href="module-core_config.html">core/config</a></li><li><a href="module-core_cta_feedback.html">core/cta_feedback</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_cta_feedback.html#~hideRoot">hideRoot</a></li><li data-type='method' style='display: none;'><a href="module-core_cta_feedback.html#~recordAction">recordAction</a></li></ul></li><li><a href="module-core_custom_interaction_events.html">core/custom_interaction_events</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_custom_interaction_events.html#~define">define</a></li></ul></li><li><a href="module-core_drawer.html">core/drawer</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_drawer.html#~getDrawerRoot">getDrawerRoot</a></li><li data-type='method' style='display: none;'><a href="module-core_drawer.html#~hide">hide</a></li><li data-type='method' style='display: none;'><a href="module-core_drawer.html#~isVisible">isVisible</a></li><li data-type='method' style='display: none;'><a href="module-core_drawer.html#~registerToggles">registerToggles</a></li><li data-type='method' style='display: none;'><a href="module-core_drawer.html#~show">show</a></li><li data-type='method' style='display: none;'><a href="module-core_drawer.html#~toggle">toggle</a></li></ul></li><li><a href="module-core_drawer_events.html">core/drawer_events</a></li><li><a href="module-core_emoji_auto_complete.html">core/emoji/auto_complete</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_emoji_auto_complete.html#~addRecentEmoji">addRecentEmoji</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_auto_complete.html#~getActiveEmojiSuggestion">getActiveEmojiSuggestion</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_auto_complete.html#~getEmojiTextFromShortName">getEmojiTextFromShortName</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_auto_complete.html#~getRecentEmojis">getRecentEmojis</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_auto_complete.html#~getShortNameFromText">getShortNameFromText</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_auto_complete.html#~getWordFromPosition">getWordFromPosition</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_auto_complete.html#~isCompleteShortName">isCompleteShortName</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_auto_complete.html#~isPartialShortName">isPartialShortName</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_auto_complete.html#~render">render</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_auto_complete.html#~searchEmojis">searchEmojis</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_auto_complete.html#~selectEmojiElement">selectEmojiElement</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_auto_complete.html#~selectNextEmojiSuggestion">selectNextEmojiSuggestion</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_auto_complete.html#~selectPreviousEmojiSuggestion">selectPreviousEmojiSuggestion</a></li></ul></li><li><a href="module-core_emoji_data.html">core/emoji/data</a></li><li><a href="module-core_emoji_picker.html">core/emoji/picker</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~addIndexesToRowData">addIndexesToRowData</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~addRecentEmoji">addRecentEmoji</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~clearSearch">clearSearch</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~createEmojiRow">createEmojiRow</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~createHeaderRow">createHeaderRow</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~createRowDataForCategory">createRowDataForCategory</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~createRowElement">createRowElement</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~doRowsMatch">doRowsMatch</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~findCategorySelectorFromElement">findCategorySelectorFromElement</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~generateRenderRowsAtPositionFunction">generateRenderRowsAtPositionFunction</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~getCategoryByScrollPosition">getCategoryByScrollPosition</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~getCategoryScrollPositionsFromRowData">getCategoryScrollPositionsFromRowData</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~getHandleClick">getHandleClick</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~getHandleMouseEnter">getHandleMouseEnter</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~getHandleMouseLeave">getHandleMouseLeave</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~getHandleScroll">getHandleScroll</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~getHandleSearch">getHandleSearch</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~getRecentEmojis">getRecentEmojis</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~getRowsToRender">getRowsToRender</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~isEmojiElement">isEmojiElement</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~renderRows">renderRows</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~saveRecentEmoji">saveRecentEmoji</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~setCategorySelectorActive">setCategorySelectorActive</a></li><li data-type='method' style='display: none;'><a href="module-core_emoji_picker.html#~showSearchResults">showSearchResults</a></li></ul></li><li><a href="module-core_first.html">core/first</a></li><li><a href="module-core_form-autocomplete.html">core/form-autocomplete</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_form-autocomplete.html#~enhance">enhance</a></li></ul></li><li><a href="module-core_form-cohort-selector.html">core/form-cohort-selector</a></li><li><a href="module-core_form-course-selector.html">core/form-course-selector</a></li><li><a href="module-core_fragment.html">core/fragment</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_fragment.html#~fragmentAppend">fragmentAppend</a></li><li data-type='method' style='display: none;'><a href="module-core_fragment.html#~loadFragment">loadFragment</a></li><li data-type='method' style='display: none;'><a href="module-core_fragment.html#~processCollectedJavascript">processCollectedJavascript</a></li></ul></li><li><a href="module-core_fullscreen.html">core/fullscreen</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_fullscreen.html#.getElement">getElement</a></li></ul></li><li><a href="module-core_icon_system.html">core/icon_system</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_icon_system.html#~getTemplateName">getTemplateName</a></li><li data-type='method' style='display: none;'><a href="module-core_icon_system.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-core_icon_system.html#~renderIcon">renderIcon</a></li></ul></li><li><a href="module-core_icon_system_fontawesome.html">core/icon_system_fontawesome</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_icon_system_fontawesome.html#~getTemplateName">getTemplateName</a></li><li data-type='method' style='display: none;'><a href="module-core_icon_system_fontawesome.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-core_icon_system_fontawesome.html#~renderIcon">renderIcon</a></li></ul></li><li><a href="module-core_icon_system_standard.html">core/icon_system_standard</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_icon_system_standard.html#~getTemplateName">getTemplateName</a></li><li data-type='method' style='display: none;'><a href="module-core_icon_system_standard.html#~renderIcon">renderIcon</a></li></ul></li><li><a href="module-core_inplace_editable.html">core/inplace_editable</a></li><li><a href="module-core_key_codes.html">core/key_codes</a></li><li><a href="module-core_local_aria_aria-hidden..html">core/local/aria/aria-hidden.</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_local_aria_aria-hidden..html#.hide">hide</a></li><li data-type='method' style='display: none;'><a href="module-core_local_aria_aria-hidden..html#.hideSiblings">hideSiblings</a></li><li data-type='method' style='display: none;'><a href="module-core_local_aria_aria-hidden..html#.unhide">unhide</a></li><li data-type='method' style='display: none;'><a href="module-core_local_aria_aria-hidden..html#.unhideSiblings">unhideSiblings</a></li></ul></li><li><a href="module-core_local_aria_selectors.html">core/local/aria/selectors</a></li><li><a href="module-core_log.html">core/log</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_log.html#~setConfig">setConfig</a></li></ul></li><li><a href="module-core_modal_alert.html">core/modal_alert</a></li><li><a href="module-core_modal_backdrop.html">core/modal_backdrop</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_modal_backdrop.html#~attachToDOM">attachToDOM</a></li><li data-type='method' style='display: none;'><a href="module-core_modal_backdrop.html#~destroy">destroy</a></li><li data-type='method' style='display: none;'><a href="module-core_modal_backdrop.html#~getRoot">getRoot</a></li><li data-type='method' style='display: none;'><a href="module-core_modal_backdrop.html#~hasTransitions">hasTransitions</a></li><li data-type='method' style='display: none;'><a href="module-core_modal_backdrop.html#~hide">hide</a></li><li data-type='method' style='display: none;'><a href="module-core_modal_backdrop.html#~isVisible">isVisible</a></li><li data-type='method' style='display: none;'><a href="module-core_modal_backdrop.html#~setZIndex">setZIndex</a></li><li data-type='method' style='display: none;'><a href="module-core_modal_backdrop.html#~show">show</a></li></ul></li><li><a href="module-core_modal_cancel.html">core/modal_cancel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_modal_cancel.html#registerEventListeners">registerEventListeners</a></li></ul></li><li><a href="module-core_modal_factory.html">core/modal_factory</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_modal_factory.html#~create">create</a></li></ul></li><li><a href="module-core_modal_save_cancel.html">core/modal_save_cancel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_modal_save_cancel.html#registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_modal_save_cancel.html#setFooter">setFooter</a></li><li data-type='method' style='display: none;'><a href="module-core_modal_save_cancel.html#setSaveButtonText">setSaveButtonText</a></li></ul></li><li><a href="module-core_network.html">core/network</a></li><li><a href="module-core_normalise.html">core/normalise</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_normalise.html#~getList">getList</a></li></ul></li><li><a href="module-core_notification.html">core/notification</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_notification.html#.addNotification">addNotification</a></li><li data-type='method' style='display: none;'><a href="module-core_notification.html#.alert">alert</a></li><li data-type='method' style='display: none;'><a href="module-core_notification.html#.confirm">confirm</a></li><li data-type='method' style='display: none;'><a href="module-core_notification.html#.exception">exception</a></li><li data-type='method' style='display: none;'><a href="module-core_notification.html#.fetchNotifications">fetchNotifications</a></li><li data-type='method' style='display: none;'><a href="module-core_notification.html#.init">init</a></li><li data-type='method' style='display: none;'><a href="module-core_notification.html#.saveCancel">saveCancel</a></li><li data-type='method' style='display: none;'><a href="module-core_notification.html#~addNotifications">addNotifications</a></li></ul></li><li><a href="module-core_page_global.html">core/page_global</a></li><li><a href="module-core_paged_content.html">core/paged_content</a></li><li><a href="module-core_paged_content_events.html">core/paged_content_events</a></li><li><a href="module-core_paged_content_factory.html">core/paged_content_factory</a></li><li><a href="module-core_paged_content_pages.html">core/paged_content_pages</a></li><li><a href="module-core_paged_content_paging_bar_limit_selector.html">core/paged_content_paging_bar_limit_selector</a></li><li><a href="module-core_paged_content_paging_dropdown.html">core/paged_content_paging_dropdown</a></li><li><a href="module-core_paging_bar.html">core/paging_bar</a></li><li><a href="module-core_pending.html">core/pending</a></li><li><a href="module-core_permissionmanager.html">core/permissionmanager</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_permissionmanager.html#.initialize">initialize</a></li></ul></li><li><a href="module-core_popover_region_controller.html">core/popover_region_controller</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~closeMenu">closeMenu</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~contentItemHasFocus">contentItemHasFocus</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~focusContentItem">focusContentItem</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~focusFirstContentItem">focusFirstContentItem</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~focusLastContentItem">focusLastContentItem</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~focusMenuToggle">focusMenuToggle</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~focusNextContentItem">focusNextContentItem</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~focusPreviousContentItem">focusPreviousContentItem</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~getContent">getContent</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~getContentContainer">getContentContainer</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~getContentItemWithFocus">getContentItemWithFocus</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~isMenuOpen">isMenuOpen</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~openMenu">openMenu</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~registerBaseEventListeners">registerBaseEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~registerListNavigationEventListeners">registerListNavigationEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~startLoading">startLoading</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~stopLoading">stopLoading</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~toggleMenu">toggleMenu</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~updateButtonAriaLabel">updateButtonAriaLabel</a></li><li data-type='method' style='display: none;'><a href="module-core_popover_region_controller.html#~updateFocusItemTabIndex">updateFocusItemTabIndex</a></li></ul></li><li><a href="module-core_prefetch.html">core/prefetch</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_prefetch.html#.prefetchString">prefetchString</a></li><li data-type='method' style='display: none;'><a href="module-core_prefetch.html#.prefetchStrings">prefetchStrings</a></li><li data-type='method' style='display: none;'><a href="module-core_prefetch.html#.prefetchTemplate">prefetchTemplate</a></li><li data-type='method' style='display: none;'><a href="module-core_prefetch.html#.prefetchTemplates">prefetchTemplates</a></li></ul></li><li><a href="module-core_pubsub.html">core/pubsub</a></li><li><a href="module-core_sessionstorage.html">core/sessionstorage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_sessionstorage.html#~get">get</a></li><li data-type='method' style='display: none;'><a href="module-core_sessionstorage.html#~set">set</a></li></ul></li><li><a href="module-core_storagewrapper.html">core/storagewrapper</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_storagewrapper.html#~detectSupport">detectSupport</a></li><li data-type='method' style='display: none;'><a href="module-core_storagewrapper.html#~get">get</a></li><li data-type='method' style='display: none;'><a href="module-core_storagewrapper.html#~hashString">hashString</a></li><li data-type='method' style='display: none;'><a href="module-core_storagewrapper.html#~prefixKey">prefixKey</a></li><li data-type='method' style='display: none;'><a href="module-core_storagewrapper.html#~set">set</a></li><li data-type='method' style='display: none;'><a href="module-core_storagewrapper.html#~validateCache">validateCache</a></li></ul></li><li><a href="module-core_str.html">core/str</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_str.html#~cache_strings">cache_strings</a></li><li data-type='method' style='display: none;'><a href="module-core_str.html#~get_string">get_string</a></li><li data-type='method' style='display: none;'><a href="module-core_str.html#~get_strings">get_strings</a></li></ul></li><li><a href="module-core_tablock.html">core/tablock</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_tablock.html#.trapFocus">trapFocus</a></li><li data-type='method' style='display: none;'><a href="module-core_tablock.html#.untrapFocus">untrapFocus</a></li><li data-type='method' style='display: none;'><a href="module-core_tablock.html#~addLockRegionToStack">addLockRegionToStack</a></li><li data-type='method' style='display: none;'><a href="module-core_tablock.html#~attemptFocus">attemptFocus</a></li><li data-type='method' style='display: none;'><a href="module-core_tablock.html#~focusFirstDescendant">focusFirstDescendant</a></li><li data-type='method' style='display: none;'><a href="module-core_tablock.html#~focusLastDescendant">focusLastDescendant</a></li><li data-type='method' style='display: none;'><a href="module-core_tablock.html#~getCurrentLockRegion">getCurrentLockRegion</a></li><li data-type='method' style='display: none;'><a href="module-core_tablock.html#~hasTrappedRegionsInStack">hasTrappedRegionsInStack</a></li><li data-type='method' style='display: none;'><a href="module-core_tablock.html#~isFocusable">isFocusable</a></li><li data-type='method' style='display: none;'><a href="module-core_tablock.html#~lockHandler">lockHandler</a></li><li data-type='method' style='display: none;'><a href="module-core_tablock.html#~removeLastLockRegionFromStack">removeLastLockRegionFromStack</a></li></ul></li><li><a href="module-core_tag.html">core/tag</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_tag.html#~initManageCollectionsPage">initManageCollectionsPage</a></li><li data-type='method' style='display: none;'><a href="module-core_tag.html#~initManagePage">initManagePage</a></li><li data-type='method' style='display: none;'><a href="module-core_tag.html#~initTagindexPage">initTagindexPage</a></li></ul></li><li><a href="module-core_templates.html">core/templates</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_templates.html#~appendNodeContents">appendNodeContents</a></li><li data-type='method' style='display: none;'><a href="module-core_templates.html#~getTemplate">getTemplate</a></li><li data-type='method' style='display: none;'><a href="module-core_templates.html#~prependNodeContents">prependNodeContents</a></li><li data-type='method' style='display: none;'><a href="module-core_templates.html#~renderIcon">renderIcon</a></li><li data-type='method' style='display: none;'><a href="module-core_templates.html#~replaceNode">replaceNode</a></li><li data-type='method' style='display: none;'><a href="module-core_templates.html#~replaceNodeContents">replaceNodeContents</a></li><li data-type='method' style='display: none;'><a href="module-core_templates.html#~runTemplateJS">runTemplateJS</a></li><li data-type='method' style='display: none;'><a href="module-core_templates.html#~runTemplateJS">runTemplateJS</a></li></ul></li><li><a href="module-core_toast.html">core/toast</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_toast.html#.add">add</a></li><li data-type='method' style='display: none;'><a href="module-core_toast.html#.addToastRegion">addToastRegion</a></li></ul></li><li><a href="module-core_url.html">core/url</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_url.html#~fileUrl">fileUrl</a></li><li data-type='method' style='display: none;'><a href="module-core_url.html#~imageUrl">imageUrl</a></li><li data-type='method' style='display: none;'><a href="module-core_url.html#~relativeUrl">relativeUrl</a></li></ul></li><li><a href="module-core_user_date.html">core/user_date</a></li><li><a href="module-core_utils.html">core/utils</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_utils.html#.debounce">debounce</a></li><li data-type='method' style='display: none;'><a href="module-core_utils.html#.throttle">throttle</a></li></ul></li><li><a href="module-core_yui.html">core/yui</a></li><li><a href="module-core_backup_async_backup.html">core_backup/async_backup</a></li><li><a href="module-core_badges_backpackactions.html">core_badges/backpackactions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_badges_backpackactions.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-core_badges_backpackactions.html#~registerListenerEvents">registerListenerEvents</a></li></ul></li><li><a href="module-core_badges_selectors.html">core_badges/selectors</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_badges_selectors.html#~getDataSelector">getDataSelector</a></li></ul></li><li><a href="module-core_calendar_calendar.html">core_calendar/calendar</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_calendar_calendar.html#~registerCalendarEventListeners">registerCalendarEventListeners</a></li></ul></li><li></li><li><a href="module-core_calendar_calendar_filter.html">core_calendar/calendar_filter</a></li><li><a href="module-core_calendar_calendar_mini.html">core_calendar/calendar_mini</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_calendar_calendar_mini.html#~registerCalendarEventListeners">registerCalendarEventListeners</a></li></ul></li><li><a href="module-core_calendar_calendar_selectors.html">core_calendar/calendar_selectors</a></li><li><a href="module-core_calendar_calendar_threemonth.html">core_calendar/calendar_threemonth</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_calendar_calendar_threemonth.html#~registerCalendarEventListeners">registerCalendarEventListeners</a></li></ul></li><li><a href="module-core_calendar_crud.html">core_calendar/crud</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_calendar_crud.html#~registerEventFormModal">registerEventFormModal</a></li></ul></li><li><a href="module-core_calendar_drag_drop_data_store.html">core_calendar/drag_drop_data_store</a></li><li><a href="module-core_calendar_event_form.html">core_calendar/event_form</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_calendar_event_form.html#~addCourseGroupSelectListeners">addCourseGroupSelectListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_event_form.html#~init">init</a></li></ul></li><li><a href="module-core_calendar_events.html">core_calendar/events</a></li><li><a href="module-core_calendar_modal_delete.html">core_calendar/modal_delete</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_delete.html#~registerEventListeners">registerEventListeners</a></li></ul></li><li><a href="module-core_calendar_modal_quick_add_event.html">core_calendar/modal_quick_add_event</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~disableButtons">disableButtons</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~enableButtons">enableButtons</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~getCategoryId">getCategoryId</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~getContextId">getContextId</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~getCourseId">getCourseId</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~getEventId">getEventId</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~getForm">getForm</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~getFormData">getFormData</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~getStartTime">getStartTime</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~hasCategoryId">hasCategoryId</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~hasCourseId">hasCourseId</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~hasEventId">hasEventId</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~hasStartTime">hasStartTime</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~hide">hide</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~reloadAllContent">reloadAllContent</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~reloadBodyContent">reloadBodyContent</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~reloadTitleContent">reloadTitleContent</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~save">save</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~setCategoryId">setCategoryId</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~setContextId">setContextId</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~setCourseId">setCourseId</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~setEventId">setEventId</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~setStartTime">setStartTime</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_modal_quick_add_event.html#~show">show</a></li></ul></li><li><a href="module-core_calendar_month_navigation_drag_drop.html">core_calendar/month_navigation_drag_drop</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_calendar_month_navigation_drag_drop.html#~init">init</a></li></ul></li><li><a href="module-core_calendar_month_view_drag_drop.html">core_calendar/month_view_drag_drop</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_calendar_month_view_drag_drop.html#~init">init</a></li></ul></li><li><a href="module-core_calendar_repository.html">core_calendar/repository</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_calendar_repository.html#~deleteEvent">deleteEvent</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_repository.html#~fetch">fetch</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_repository.html#~getCalendarDayData">getCalendarDayData</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_repository.html#~getCalendarMonthData">getCalendarMonthData</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_repository.html#~getCalendarUpcomingData">getCalendarUpcomingData</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_repository.html#~getEventById">getEventById</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_repository.html#~submitCreateUpdateForm">submitCreateUpdateForm</a></li></ul></li><li></li><li><a href="module-core_calendar_summary_modal.html">core_calendar/summary_modal</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_calendar_summary_modal.html#~getDeleteButton">getDeleteButton</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_summary_modal.html#~getEditButton">getEditButton</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_summary_modal.html#~getEventCount">getEventCount</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_summary_modal.html#~getEventId">getEventId</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_summary_modal.html#~getEventTitle">getEventTitle</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_summary_modal.html#~getEventUrl">getEventUrl</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_summary_modal.html#~getEventUrl">getEventUrl</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_summary_modal.html#~registerEventListeners">registerEventListeners</a></li></ul></li><li><a href="module-core_calendar_view_manager.html">core_calendar/view_manager</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_calendar_view_manager.html#~getEventTypeClassFromType">getEventTypeClassFromType</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_view_manager.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_view_manager.html#~renderEventSummaryModal">renderEventSummaryModal</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_view_manager.html#~startLoading">startLoading</a></li><li data-type='method' style='display: none;'><a href="module-core_calendar_view_manager.html#~stopLoading">stopLoading</a></li></ul></li><li><a href="module-core_contentbank_actions.html">core_contentbank/actions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_contentbank_actions.html#~init">init</a></li></ul></li><li><a href="module-core_contentbank_search.html">core_contentbank/search</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_contentbank_search.html#~filterContents">filterContents</a></li><li data-type='method' style='display: none;'><a href="module-core_contentbank_search.html#~highlight">highlight</a></li><li data-type='method' style='display: none;'><a href="module-core_contentbank_search.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-core_contentbank_search.html#~registerListenerEvents">registerListenerEvents</a></li><li data-type='method' style='display: none;'><a href="module-core_contentbank_search.html#~toggleSearchResultsView">toggleSearchResultsView</a></li></ul></li><li><a href="module-core_contentbank_selectors.html">core_contentbank/selectors</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_contentbank_selectors.html#~getDataSelector">getDataSelector</a></li></ul></li><li><a href="module-core_contentbank_sort.html">core_contentbank/sort</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_contentbank_sort.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-core_contentbank_sort.html#~registerListenerEvents">registerListenerEvents</a></li><li data-type='method' style='display: none;'><a href="module-core_contentbank_sort.html#~setViewListPreference">setViewListPreference</a></li><li data-type='method' style='display: none;'><a href="module-core_contentbank_sort.html#~updateButtonTitle">updateButtonTitle</a></li><li data-type='method' style='display: none;'><a href="module-core_contentbank_sort.html#~updateSortButtons">updateSortButtons</a></li><li data-type='method' style='display: none;'><a href="module-core_contentbank_sort.html#~updateSortOrder">updateSortOrder</a></li></ul></li><li><a href="module-core_contentbank_upload.html">core_contentbank/upload</a></li><li><a href="module-core_course_actions.html">core_course/actions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_course_actions.html#.replaceSectionActionItem">replaceSectionActionItem</a></li><li data-type='method' style='display: none;'><a href="module-core_course_actions.html#~init">init</a></li></ul></li><li><a href="module-core_course_activitychooser.html">core_course/activitychooser</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_course_activitychooser.html#~buildModal">buildModal</a></li><li data-type='method' style='display: none;'><a href="module-core_course_activitychooser.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-core_course_activitychooser.html#~nullFavouriteDomManager">nullFavouriteDomManager</a></li><li data-type='method' style='display: none;'><a href="module-core_course_activitychooser.html#~partiallyAppliedFavouriteManager">partiallyAppliedFavouriteManager</a></li><li data-type='method' style='display: none;'><a href="module-core_course_activitychooser.html#~registerListenerEvents">registerListenerEvents</a></li><li data-type='method' style='display: none;'><a href="module-core_course_activitychooser.html#~sectionIdMapper">sectionIdMapper</a></li><li data-type='method' style='display: none;'><a href="module-core_course_activitychooser.html#~templateDataBuilder">templateDataBuilder</a></li></ul></li><li><a href="module-core_course_copy_modal.html">core_course/copy_modal</a></li><li><a href="module-core_course_downloadcontent.html">core_course/downloadcontent</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_course_downloadcontent.html#~displayDownloadConfirmation">displayDownloadConfirmation</a></li><li data-type='method' style='display: none;'><a href="module-core_course_downloadcontent.html#~downloadContent">downloadContent</a></li></ul></li><li><a href="module-core_course_events.html">core_course/events</a></li><li><a href="module-core_course_local_chooser_dialogue.html">core_course/local/chooser/dialogue</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_course_local_chooser_dialogue.html#~clickErrorHandler">clickErrorHandler</a></li><li data-type='method' style='display: none;'><a href="module-core_course_local_chooser_dialogue.html#~disableFocusAllChooserOptions">disableFocusAllChooserOptions</a></li><li data-type='method' style='display: none;'><a href="module-core_course_local_chooser_dialogue.html#~displayChooser">displayChooser</a></li><li data-type='method' style='display: none;'><a href="module-core_course_local_chooser_dialogue.html#~focusChooserOption">focusChooserOption</a></li><li data-type='method' style='display: none;'><a href="module-core_course_local_chooser_dialogue.html#~initChooserOptionsKeyboardNavigation">initChooserOptionsKeyboardNavigation</a></li><li data-type='method' style='display: none;'><a href="module-core_course_local_chooser_dialogue.html#~manageFavouriteState">manageFavouriteState</a></li><li data-type='method' style='display: none;'><a href="module-core_course_local_chooser_dialogue.html#~registerListenerEvents">registerListenerEvents</a></li><li data-type='method' style='display: none;'><a href="module-core_course_local_chooser_dialogue.html#~renderSearchResults">renderSearchResults</a></li><li data-type='method' style='display: none;'><a href="module-core_course_local_chooser_dialogue.html#~searchModules">searchModules</a></li><li data-type='method' style='display: none;'><a href="module-core_course_local_chooser_dialogue.html#~setupKeyboardAccessibility">setupKeyboardAccessibility</a></li><li data-type='method' style='display: none;'><a href="module-core_course_local_chooser_dialogue.html#~showModuleHelp">showModuleHelp</a></li><li data-type='method' style='display: none;'><a href="module-core_course_local_chooser_dialogue.html#~toggleFocusableChooserOption">toggleFocusableChooserOption</a></li><li data-type='method' style='display: none;'><a href="module-core_course_local_chooser_dialogue.html#~toggleSearchResultsView">toggleSearchResultsView</a></li></ul></li><li><a href="module-core_course_local_chooser_selectors.html">core_course/local/chooser/selectors</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_course_local_chooser_selectors.html#~getDataSelector">getDataSelector</a></li></ul></li><li><a href="module-core_course_manual_completion_toggle.html">core_course/manual_completion_toggle</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_course_manual_completion_toggle.html#~toggleManualCompletionState">toggleManualCompletionState</a></li></ul></li><li><a href="module-core_course_recommendations.html">core_course/recommendations</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_course_recommendations.html#~toggleRecommendation">toggleRecommendation</a></li></ul></li><li><a href="module-core_course_repository.html">core_course/repository</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_course_repository.html#~activityModules">activityModules</a></li><li data-type='method' style='display: none;'><a href="module-core_course_repository.html#~favouriteModule">favouriteModule</a></li><li data-type='method' style='display: none;'><a href="module-core_course_repository.html#~fetchFooterData">fetchFooterData</a></li><li data-type='method' style='display: none;'><a href="module-core_course_repository.html#~getEnrolledCoursesByTimelineClassification">getEnrolledCoursesByTimelineClassification</a></li><li data-type='method' style='display: none;'><a href="module-core_course_repository.html#~getEnrolledUsersFromCourseModuleID">getEnrolledUsersFromCourseModuleID</a></li><li data-type='method' style='display: none;'><a href="module-core_course_repository.html#~getLastAccessedCourses">getLastAccessedCourses</a></li><li data-type='method' style='display: none;'><a href="module-core_course_repository.html#~toggleManualCompletion">toggleManualCompletion</a></li><li data-type='method' style='display: none;'><a href="module-core_course_repository.html#~unfavouriteModule">unfavouriteModule</a></li></ul></li><li></li><li><a href="module-core_course_view.html">core_course/view</a></li><li><a href="module-core_customfield_form.html">core_customfield/form</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_customfield_form.html#~confirmDelete">confirmDelete</a></li><li data-type='method' style='display: none;'><a href="module-core_customfield_form.html#~createNewCategory">createNewCategory</a></li><li data-type='method' style='display: none;'><a href="module-core_customfield_form.html#~createNewField">createNewField</a></li><li data-type='method' style='display: none;'><a href="module-core_customfield_form.html#~editField">editField</a></li><li data-type='method' style='display: none;'><a href="module-core_customfield_form.html#~getCategoryNameFor">getCategoryNameFor</a></li></ul></li><li><a href="module-core_form_defaultcustom.html">core_form/defaultcustom</a></li><li><a href="module-core_form_dynamicform.html">core_form/dynamicform</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#addEventListener">addEventListener</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#disableButtons">disableButtons</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#enableButtons">enableButtons</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#load">load</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#notifyFormSubmitAjax">notifyFormSubmitAjax</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#notifyResetFormChanges">notifyResetFormChanges</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#onSubmitSuccess">onSubmitSuccess</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#processCancelButton">processCancelButton</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#submitFormAjax">submitFormAjax</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#updateForm">updateForm</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#validateElements">validateElements</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#~submitButtonPressed">submitButtonPressed</a></li></ul></li><li><a href="module-core_form_encryptedpassword.html">core_form/encryptedpassword</a></li><li><a href="module-core_form_events.html">core_form/events</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_form_events.html#.notifyUploadChanged">notifyUploadChanged</a></li><li data-type='method' style='display: none;'><a href="module-core_form_events.html#~changesMadeCheck">changesMadeCheck</a></li></ul></li><li><a href="module-core_form_filetypes.html">core_form/filetypes</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_form_filetypes.html#~prepareBrowserModal">prepareBrowserModal</a></li><li data-type='method' style='display: none;'><a href="module-core_form_filetypes.html#~prepareBrowserTree">prepareBrowserTree</a></li><li data-type='method' style='display: none;'><a href="module-core_form_filetypes.html#~prepareBrowserTrigger">prepareBrowserTrigger</a></li><li data-type='method' style='display: none;'><a href="module-core_form_filetypes.html#~saveBrowserModal">saveBrowserModal</a></li><li data-type='method' style='display: none;'><a href="module-core_form_filetypes.html#~toggleCheckbox">toggleCheckbox</a></li></ul></li><li><a href="module-core_form_modalform.html">core_form/modalform</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#addEventListener">addEventListener</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#disableButtons">disableButtons</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#enableButtons">enableButtons</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#notifyFormSubmitAjax">notifyFormSubmitAjax</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#notifyResetFormChanges">notifyResetFormChanges</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#onSubmitError">onSubmitError</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#processNoSubmitButton">processNoSubmitButton</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#submitFormAjax">submitFormAjax</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#validateElements">validateElements</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#~setSaveButtonClasses">setSaveButtonClasses</a></li></ul></li><li><a href="module-core_form_passwordunmask.html">core_form/passwordunmask</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_form_passwordunmask.html#~addListeners">addListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_form_passwordunmask.html#~checkFocusOut">checkFocusOut</a></li><li data-type='method' style='display: none;'><a href="module-core_form_passwordunmask.html#~getDisplayValue">getDisplayValue</a></li><li data-type='method' style='display: none;'><a href="module-core_form_passwordunmask.html#~isEditing">isEditing</a></li><li data-type='method' style='display: none;'><a href="module-core_form_passwordunmask.html#~passwordVisible">passwordVisible</a></li><li data-type='method' style='display: none;'><a href="module-core_form_passwordunmask.html#~setDisplayValue">setDisplayValue</a></li><li data-type='method' style='display: none;'><a href="module-core_form_passwordunmask.html#~turnEditingOff">turnEditingOff</a></li><li data-type='method' style='display: none;'><a href="module-core_form_passwordunmask.html#~turnEditingOn">turnEditingOn</a></li></ul></li><li><a href="module-core_form_showadvanced.html">core_form/showadvanced</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_form_showadvanced.html#~enhanceFieldset">enhanceFieldset</a></li><li data-type='method' style='display: none;'><a href="module-core_form_showadvanced.html#~enhanceForm">enhanceForm</a></li><li data-type='method' style='display: none;'><a href="module-core_form_showadvanced.html#~generateId">generateId</a></li><li data-type='method' style='display: none;'><a href="module-core_form_showadvanced.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-core_form_showadvanced.html#~switchState">switchState</a></li></ul></li><li><a href="module-core_form_submit.html">core_form/submit</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_form_submit.html#~checkUploadCount">checkUploadCount</a></li><li data-type='method' style='display: none;'><a href="module-core_form_submit.html#~clearDownloadCookie">clearDownloadCookie</a></li><li data-type='method' style='display: none;'><a href="module-core_form_submit.html#~getCookieName">getCookieName</a></li><li data-type='method' style='display: none;'><a href="module-core_form_submit.html#~listenForDownloadCookie">listenForDownloadCookie</a></li></ul></li><li><a href="module-core_grades_edittree_index.html">core_grades/edittree_index</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_grades_edittree_index.html#~edittree">edittree</a></li></ul></li><li><a href="module-core_grades_grades_grader_gradingpanel_comparison.html">core_grades/grades/grader/gradingpanel/comparison</a></li><li><a href="module-core_grades_grades_grader_gradingpanel_normalise.html">core_grades/grades/grader/gradingpanel/normalise</a></li><li><a href="module-core_grades_grades_grader_gradingpanel_point.html">core_grades/grades/grader/gradingpanel/point</a></li><li><a href="module-core_grades_grades_grader_gradingpanel_repository.html">core_grades/grades/grader/gradingpanel/repository</a></li><li><a href="module-core_grades_grades_grader_gradingpanel_scale.html">core_grades/grades/grader/gradingpanel/scale</a></li><li><a href="module-core_h5p_editor_display.html">core_h5p/editor_display</a></li><li><a href="module-core_message_message_drawer.html">core_message/message_drawer</a></li><li><a href="module-core_message_message_drawer_events.html">core_message/message_drawer_events</a></li><li><a href="module-core_message_message_drawer_helper.html">core_message/message_drawer_helper</a></li><li><a href="module-core_message_message_drawer_lazy_load_list.html">core_message/message_drawer_lazy_load_list</a></li><li><a href="module-core_message_message_drawer_router.html">core_message/message_drawer_router</a></li><li><a href="module-core_message_message_drawer_routes.html">core_message/message_drawer_routes</a></li><li><a href="module-core_message_message_drawer_view_contact.html">core_message/message_drawer_view_contact</a></li><li><a href="module-core_message_message_drawer_view_contacts.html">core_message/message_drawer_view_contacts</a></li><li><a href="module-core_message_message_drawer_view_contacts_section_contacts.html">core_message/message_drawer_view_contacts_section_contacts</a></li><li><a href="module-core_message_message_drawer_view_contacts_section_requests.html">core_message/message_drawer_view_contacts_section_requests</a></li><li><a href="module-core_message_message_drawer_view_conversation.html">core_message/message_drawer_view_conversation</a></li><li><a href="module-core_message_message_drawer_view_conversation_constants.html">core_message/message_drawer_view_conversation_constants</a></li><li><a href="module-core_message_message_drawer_view_conversation_patcher.html">core_message/message_drawer_view_conversation_patcher</a></li><li><a href="module-core_message_message_drawer_view_conversation_renderer.html">core_message/message_drawer_view_conversation_renderer</a></li><li><a href="module-core_message_message_drawer_view_conversation_state_manager.html">core_message/message_drawer_view_conversation_state_manager</a></li><li><a href="module-core_message_message_drawer_view_group_info.html">core_message/message_drawer_view_group_info</a></li><li><a href="module-core_message_message_drawer_view_overview.html">core_message/message_drawer_view_overview</a></li><li><a href="module-core_message_message_drawer_view_overview_section.html">core_message/message_drawer_view_overview_section</a></li><li><a href="module-core_message_message_drawer_view_search.html">core_message/message_drawer_view_search</a></li><li><a href="module-core_message_message_drawer_view_settings.html">core_message/message_drawer_view_settings</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_message_message_drawer_view_settings.html#~registerEventListeners">registerEventListeners</a></li></ul></li><li><a href="module-core_message_message_notification_preference.html">core_message/message_notification_preference</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_message_message_notification_preference.html#~getPreferenceKey">getPreferenceKey</a></li></ul></li><li><a href="module-core_message_message_popover.html">core_message/message_popover</a></li><li><a href="module-core_message_message_preferences.html">core_message/message_preferences</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_message_message_preferences.html#~preferencesDisabled">preferencesDisabled</a></li><li data-type='method' style='display: none;'><a href="module-core_message_message_preferences.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_message_message_preferences.html#~saveContactablePrivacySetting">saveContactablePrivacySetting</a></li></ul></li><li><a href="module-core_message_message_repository.html">core_message/message_repository</a></li><li><a href="module-core_message_message_send_bulk.html">core_message/message_send_bulk</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_message_message_send_bulk.html#~sendMessage">sendMessage</a></li><li data-type='method' style='display: none;'><a href="module-core_message_message_send_bulk.html#~showModal">showModal</a></li></ul></li><li><a href="module-core_message_message_user_button.html">core_message/message_user_button</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_message_message_user_button.html#~enhance">enhance</a></li></ul></li><li><a href="module-core_message_notification_preference.html">core_message/notification_preference</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_message_notification_preference.html#~getLoggedInPreferenceKey">getLoggedInPreferenceKey</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_preference.html#~getLoggedOffPreferenceKey">getLoggedOffPreferenceKey</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_preference.html#~getPreferenceKey">getPreferenceKey</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_preference.html#~getProcessors">getProcessors</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_preference.html#~isLoading">isLoading</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_preference.html#~save">save</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_preference.html#~startLoading">startLoading</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_preference.html#~stopLoading">stopLoading</a></li></ul></li><li><a href="module-core_message_notification_processor.html">core_message/notification_processor</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor.html#~getName">getName</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor.html#~isLoggedInEnabled">isLoggedInEnabled</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor.html#~isLoggedOffEnabled">isLoggedOffEnabled</a></li></ul></li><li><a href="module-core_message_notification_processor_settings.html">core_message/notification_processor_settings</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~disableButtons">disableButtons</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~enableButtons">enableButtons</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~getContextId">getContextId</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~getElement">getElement</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~getForm">getForm</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~getName">getName</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~getUserId">getUserId</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~hide">hide</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~loadAllContent">loadAllContent</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~loadBodyContent">loadBodyContent</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~loadTitleContent">loadTitleContent</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~setContextId">setContextId</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~setElement">setElement</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~setName">setName</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~setUserId">setUserId</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~show">show</a></li><li data-type='method' style='display: none;'><a href="module-core_message_notification_processor_settings.html#~updateConfiguredStatus">updateConfiguredStatus</a></li></ul></li><li><a href="module-core_message_preferences_notifications_list_controller.html">core_message/preferences_notifications_list_controller</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_message_preferences_notifications_list_controller.html#~isDisabled">isDisabled</a></li><li data-type='method' style='display: none;'><a href="module-core_message_preferences_notifications_list_controller.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_message_preferences_notifications_list_controller.html#~setDisabled">setDisabled</a></li><li data-type='method' style='display: none;'><a href="module-core_message_preferences_notifications_list_controller.html#~setEnabled">setEnabled</a></li><li data-type='method' style='display: none;'><a href="module-core_message_preferences_notifications_list_controller.html#~toggleDisableAllStatus">toggleDisableAllStatus</a></li></ul></li><li><a href="module-core_message_preferences_processor_form.html">core_message/preferences_processor_form</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_message_preferences_processor_form.html#~isLoading">isLoading</a></li><li data-type='method' style='display: none;'><a href="module-core_message_preferences_processor_form.html#~save">save</a></li><li data-type='method' style='display: none;'><a href="module-core_message_preferences_processor_form.html#~startLoading">startLoading</a></li><li data-type='method' style='display: none;'><a href="module-core_message_preferences_processor_form.html#~stopLoading">stopLoading</a></li></ul></li><li><a href="module-core_message_toggle_contact_button.html">core_message/toggle_contact_button</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_message_toggle_contact_button.html#~addContact">addContact</a></li><li data-type='method' style='display: none;'><a href="module-core_message_toggle_contact_button.html#~enhance">enhance</a></li><li data-type='method' style='display: none;'><a href="module-core_message_toggle_contact_button.html#~getUserId">getUserId</a></li><li data-type='method' style='display: none;'><a href="module-core_message_toggle_contact_button.html#~getUserId">getUserId</a></li><li data-type='method' style='display: none;'><a href="module-core_message_toggle_contact_button.html#~isContact">isContact</a></li><li data-type='method' style='display: none;'><a href="module-core_message_toggle_contact_button.html#~isLoading">isLoading</a></li><li data-type='method' style='display: none;'><a href="module-core_message_toggle_contact_button.html#~removeContact">removeContact</a></li><li data-type='method' style='display: none;'><a href="module-core_message_toggle_contact_button.html#~sendRequest">sendRequest</a></li><li data-type='method' style='display: none;'><a href="module-core_message_toggle_contact_button.html#~setContact">setContact</a></li><li data-type='method' style='display: none;'><a href="module-core_message_toggle_contact_button.html#~setNotContact">setNotContact</a></li></ul></li><li><a href="module-core_payment_events.html">core_payment/events</a></li><li><a href="module-core_payment_gateways_modal.html">core_payment/gateways_modal</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_payment_gateways_modal.html#~processPayment">processPayment</a></li><li data-type='method' style='display: none;'><a href="module-core_payment_gateways_modal.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_payment_gateways_modal.html#~selectSingleGateway">selectSingleGateway</a></li><li data-type='method' style='display: none;'><a href="module-core_payment_gateways_modal.html#~show">show</a></li><li data-type='method' style='display: none;'><a href="module-core_payment_gateways_modal.html#~updateCostRegion">updateCostRegion</a></li></ul></li><li><a href="module-core_payment_modal_gateways.html">core_payment/modal_gateways</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_payment_modal_gateways.html#~registerEventListeners">registerEventListeners</a></li></ul></li><li><a href="module-core_payment_repository.html">core_payment/repository</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_payment_repository.html#~getAvailableGateways">getAvailableGateways</a></li></ul></li><li><a href="module-core_payment_selectors.html">core_payment/selectors</a></li><li><a href="module-core_question_edit_tags.html">core_question/edit_tags</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_question_edit_tags.html#~disableSaveButton">disableSaveButton</a></li><li data-type='method' style='display: none;'><a href="module-core_question_edit_tags.html#~enableSaveButton">enableSaveButton</a></li><li data-type='method' style='display: none;'><a href="module-core_question_edit_tags.html#~getFormData">getFormData</a></li><li data-type='method' style='display: none;'><a href="module-core_question_edit_tags.html#~save">save</a></li><li data-type='method' style='display: none;'><a href="module-core_question_edit_tags.html#~startLoading">startLoading</a></li><li data-type='method' style='display: none;'><a href="module-core_question_edit_tags.html#~stopLoading">stopLoading</a></li></ul></li><li><a href="module-core_question_question_selectors.html">core_question/question_selectors</a></li><li><a href="module-core_question_repository.html">core_question/repository</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_question_repository.html#~submitTagCreateUpdateForm">submitTagCreateUpdateForm</a></li></ul></li><li><a href="module-core_search_form-search-user-selector.html">core_search/form-search-user-selector</a></li><li><a href="module-core_table_dynamic.html">core_table/dynamic</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_table_dynamic.html#~checkTableIsDynamic">checkTableIsDynamic</a></li><li data-type='method' style='display: none;'><a href="module-core_table_dynamic.html#~getFiltersetFromTable">getFiltersetFromTable</a></li><li data-type='method' style='display: none;'><a href="module-core_table_dynamic.html#~getTableData">getTableData</a></li><li data-type='method' style='display: none;'><a href="module-core_table_dynamic.html#~resetTablePreferences">resetTablePreferences</a></li></ul></li><li><a href="module-core_table_local_dynamic_events.html">core_table/local/dynamic/events</a></li><li><a href="module-core_table_selectors.html">core_table/selectors</a></li><li><a href="module-core_user_edit_profile_fields.html">core_user/edit_profile_fields</a></li><li><a href="module-core_user_form_user_selector.html">core_user/form_user_selector</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_user_form_user_selector.html#.processResults">processResults</a></li><li data-type='method' style='display: none;'><a href="module-core_user_form_user_selector.html#.transport">transport</a></li></ul></li><li><a href="module-core_user_local_participants_bulkactions.html">core_user/local/participants/bulkactions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_user_local_participants_bulkactions.html#~submitAddNote">submitAddNote</a></li><li data-type='method' style='display: none;'><a href="module-core_user_local_participants_bulkactions.html#~submitSendMessage">submitSendMessage</a></li></ul></li><li><a href="module-core_user_local_participantsfilter_filter.html">core_user/local/participantsfilter/filter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_user_local_participantsfilter_filter.html#addValueSelector">addValueSelector</a></li><li data-type='method' style='display: none;'><a href="module-core_user_local_participantsfilter_filter.html#getFilterValueNode">getFilterValueNode</a></li><li data-type='method' style='display: none;'><a href="module-core_user_local_participantsfilter_filter.html#getSourceDataForFilter">getSourceDataForFilter</a></li><li data-type='method' style='display: none;'><a href="module-core_user_local_participantsfilter_filter.html#tearDown">tearDown</a></li><li data-type='method' style='display: none;'><a href="module-core_user_local_participantsfilter_filter.html#~getOptionsForSelect">getOptionsForSelect</a></li></ul></li><li><a href="module-core_user_local_participantsfilter_filtertypes_country.html">core_user/local/participantsfilter/filtertypes/country</a></li><li><a href="module-core_user_local_participantsfilter_filtertypes_courseid.html">core_user/local/participantsfilter/filtertypes/courseid</a></li><li><a href="module-core_user_local_participantsfilter_filtertypes_keyword.html">core_user/local/participantsfilter/filtertypes/keyword</a></li><li><a href="module-core_user_local_user_filter_selectors.html">core_user/local/user_filter/selectors</a></li><li><a href="module-core_user_participants.html">core_user/participants</a></li><li></li><li><a href="module-core_user_participants_filter.html">core_user/participants_filter</a></li><li><a href="module-core_user_private_files.html">core_user/private_files</a></li><li><a href="module-core_user_repository.html">core_user/repository</a></li><li><a href="module-core_user_status_field.html">core_user/status_field</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_user_status_field.html#~getBody">getBody</a></li><li data-type='method' style='display: none;'><a href="module-core_user_status_field.html#~getDynamicTableFromLink">getDynamicTableFromLink</a></li><li data-type='method' style='display: none;'><a href="module-core_user_status_field.html#~getStatusContainer">getStatusContainer</a></li><li data-type='method' style='display: none;'><a href="module-core_user_status_field.html#~getUserEnrolmentIdFromLink">getUserEnrolmentIdFromLink</a></li><li data-type='method' style='display: none;'><a href="module-core_user_status_field.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_user_status_field.html#~showEditDialogue">showEditDialogue</a></li><li data-type='method' style='display: none;'><a href="module-core_user_status_field.html#~showStatusDetails">showStatusDetails</a></li><li data-type='method' style='display: none;'><a href="module-core_user_status_field.html#~showUnenrolConfirmation">showUnenrolConfirmation</a></li><li data-type='method' style='display: none;'><a href="module-core_user_status_field.html#~submitEditFormAjax">submitEditFormAjax</a></li><li data-type='method' style='display: none;'><a href="module-core_user_status_field.html#~submitUnenrolFormAjax">submitUnenrolFormAjax</a></li></ul></li><li><a href="module-core_user_unified_filter.html">core_user/unified_filter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_user_unified_filter.html#~getForm">getForm</a></li><li data-type='method' style='display: none;'><a href="module-core_user_unified_filter.html#~getForm">getForm</a></li><li data-type='method' style='display: none;'><a href="module-core_user_unified_filter.html#~init">init</a></li></ul></li><li><a href="module-editor_atto_events.html">editor_atto/events</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-editor_atto_events.html#~notifyButtonHighlightToggled">notifyButtonHighlightToggled</a></li></ul></li><li><a href="module-enrol_manual_form-potential-user-selector.html">enrol_manual/form-potential-user-selector</a></li><li><a href="module-enrol_manual_quickenrolment.html">enrol_manual/quickenrolment</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-enrol_manual_quickenrolment.html#~getBodyForContext">getBodyForContext</a></li><li data-type='method' style='display: none;'><a href="module-enrol_manual_quickenrolment.html#~getDynamicTableForElement">getDynamicTableForElement</a></li><li data-type='method' style='display: none;'><a href="module-enrol_manual_quickenrolment.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-enrol_manual_quickenrolment.html#~showModal">showModal</a></li><li data-type='method' style='display: none;'><a href="module-enrol_manual_quickenrolment.html#~submitFormAjax">submitFormAjax</a></li></ul></li><li><a href="module-forumreport_summary_filters.html">forumreport_summary/filters</a></li><li><a href="module-forumreport_summary_selectors.html">forumreport_summary/selectors</a></li><li><a href="module-gradingform_guide_comment_chooser.html">gradingform_guide/comment_chooser</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-gradingform_guide_comment_chooser.html#.initialise">initialise</a></li></ul></li><li><a href="module-gradingform_guide_grades_grader_gradingpanel.html">gradingform_guide/grades/grader/gradingpanel</a></li><li><a href="module-gradingform_guide_grades_grader_gradingpanel_comments.html">gradingform_guide/grades/grader/gradingpanel/comments</a></li><li><a href="module-gradingform_guide_grades_grader_gradingpanel_comments_selectors.html">gradingform_guide/grades/grader/gradingpanel/comments/selectors</a></li><li><a href="module-gradingform_rubric_grades_grader_gradingpanel.html">gradingform_rubric/grades/grader/gradingpanel</a></li><li><a href="module-media_videojs_loader.html">media_videojs/loader</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-media_videojs_loader.html#~getLanguageJson">getLanguageJson</a></li><li data-type='method' style='display: none;'><a href="module-media_videojs_loader.html#~notifyVideoJS">notifyVideoJS</a></li></ul></li><li><a href="module-message_popup_notification_area_content_area.html">message_popup/notification_area_content_area</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_content_area.html#~getContainer">getContainer</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_content_area.html#~getContent">getContent</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_content_area.html#~getFooter">getFooter</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_content_area.html#~getHeader">getHeader</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_content_area.html#~getRoot">getRoot</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_content_area.html#~getUserId">getUserId</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_content_area.html#~hide">hide</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_content_area.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_content_area.html#~setContentHMTL">setContentHMTL</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_content_area.html#~setFooterHTML">setFooterHTML</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_content_area.html#~setHeaderHTML">setHeaderHTML</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_content_area.html#~show">show</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_content_area.html#~showNotification">showNotification</a></li></ul></li><li><a href="module-message_popup_notification_area_control_area.html">message_popup/notification_area_control_area</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~getCacheNotification">getCacheNotification</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~getContainer">getContainer</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~getContent">getContent</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~getLimit">getLimit</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~getNotificationElement">getNotificationElement</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~getOffset">getOffset</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~getRoot">getRoot</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~getUserId">getUserId</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~hasDoneInitialLoad">hasDoneInitialLoad</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~hasLoadedAllContent">hasLoadedAllContent</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~incrementOffset">incrementOffset</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~loadMoreNotifications">loadMoreNotifications</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~markNotificationAsRead">markNotificationAsRead</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~renderNotifications">renderNotifications</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~scrollNotificationIntoView">scrollNotificationIntoView</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~setCacheNotification">setCacheNotification</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~setLimit">setLimit</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~setLoadedAllContent">setLoadedAllContent</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~setOffset">setOffset</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~showNotification">showNotification</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~startLoading">startLoading</a></li><li data-type='method' style='display: none;'><a href="module-message_popup_notification_area_control_area.html#~stopLoading">stopLoading</a></li></ul></li><li><a href="module-message_popup_notification_area_events.html">message_popup/notification_area_events</a></li><li><a href="module-message_popup_notification_repository.html">message_popup/notification_repository</a></li><li><a href="module-mod_assign_grading_actions.html">mod_assign/grading_actions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_actions.html#~collapseGradePanel">collapseGradePanel</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_actions.html#~collapseReviewPanel">collapseReviewPanel</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_actions.html#~expandAllPanels">expandAllPanels</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_actions.html#~getCollapseGradePanelButton">getCollapseGradePanelButton</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_actions.html#~getCollapseReviewPanelButton">getCollapseReviewPanelButton</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_actions.html#~getExpandAllPanelsButton">getExpandAllPanelsButton</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_actions.html#~getReviewPanelElement">getReviewPanelElement</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_actions.html#~hasReviewPanelElement">hasReviewPanelElement</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_actions.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_actions.html#~resetLayoutButtons">resetLayoutButtons</a></li></ul></li><li><a href="module-mod_assign_grading_events.html">mod_assign/grading_events</a></li><li><a href="module-mod_assign_grading_form_change_checker.html">mod_assign/grading_form_change_checker</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_form_change_checker.html#~checkFormForChanges">checkFormForChanges</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_form_change_checker.html#~saveFormState">saveFormState</a></li></ul></li><li><a href="module-mod_assign_grading_navigation.html">mod_assign/grading_navigation</a></li><li><a href="module-mod_assign_grading_navigation_user_info.html">mod_assign/grading_navigation_user_info</a></li><li><a href="module-mod_assign_grading_panel.html">mod_assign/grading_panel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_panel.html#~collapsePanel">collapsePanel</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_panel.html#~expandPanel">expandPanel</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_panel.html#~getPanelElement">getPanelElement</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_panel.html#~registerEventListeners">registerEventListeners</a></li></ul></li><li><a href="module-mod_assign_grading_review_panel.html">mod_assign/grading_review_panel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_review_panel.html#~collapsePanel">collapsePanel</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_review_panel.html#~expandPanel">expandPanel</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_review_panel.html#~getPanelContentElement">getPanelContentElement</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_review_panel.html#~getPanelElement">getPanelElement</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_review_panel.html#~getReviewPanel">getReviewPanel</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_review_panel.html#~getTogglePanelButton">getTogglePanelButton</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_review_panel.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_grading_review_panel.html#~togglePanel">togglePanel</a></li></ul></li><li><a href="module-mod_assign_participants_selector.html">mod_assign/participants_selector</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_assign_participants_selector.html#~processResults">processResults</a></li><li data-type='method' style='display: none;'><a href="module-mod_assign_participants_selector.html#~transport">transport</a></li></ul></li><li><a href="module-mod_feedback_edit.html">mod_feedback/edit</a></li><li><a href="module-mod_forum_discussion_list.html">mod_forum/discussion_list</a></li><li></li><li><a href="module-mod_Forum_discussion_nested_v2.html">mod_Forum/discussion_nested_v2</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~buildShowInPageReplyFormFunction">buildShowInPageReplyFormFunction</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~getHideRepliesButton">getHideRepliesButton</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~getInPageReplyContainer">getInPageReplyContainer</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~getInPageReplyCreateButton">getInPageReplyCreateButton</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~getInPageReplyForm">getInPageReplyForm</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~getParentPostContainers">getParentPostContainers</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~getPostContainer">getPostContainer</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~getPostContainerById">getPostContainerById</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~getPostContentContainer">getPostContentContainer</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~getRepliesContainer">getRepliesContainer</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~getRepliesVisibilityToggleContainer">getRepliesVisibilityToggleContainer</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~getShowRepliesButton">getShowRepliesButton</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~hasInPageReplyForm">hasInPageReplyForm</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~hasReplies">hasReplies</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~hideInPageReplyForm">hideInPageReplyForm</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~hideReplies">hideReplies</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~incrementTotalReplyCount">incrementTotalReplyCount</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~renderInPageReplyTemplate">renderInPageReplyTemplate</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~repliesVisible">repliesVisible</a></li><li data-type='method' style='display: none;'><a href="module-mod_Forum_discussion_nested_v2.html#~showReplies">showReplies</a></li></ul></li><li><a href="module-mod_forum_favourite_toggle.html">mod_forum/favourite_toggle</a></li><li><a href="module-mod_forum_form-user-selector.html">mod_forum/form-user-selector</a></li><li><a href="module-mod_forum_forum_events.html">mod_forum/forum_events</a></li><li><a href="module-mod_forum_grades_expandconversation.html">mod_forum/grades/expandconversation</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_forum_grades_expandconversation.html#~findGradableNode">findGradableNode</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_grades_expandconversation.html#~showPostInContext">showPostInContext</a></li></ul></li><li><a href="module-mod_forum_grades_grader.html">mod_forum/grades/grader</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_forum_grades_grader.html#~discussionPostMapper">discussionPostMapper</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_grades_grader.html#~getContentForUserIdFunction">getContentForUserIdFunction</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_grades_grader.html#~getUsersForCmidFunction">getUsersForCmidFunction</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_grades_grader.html#~launchViewGrading">launchViewGrading</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_grades_grader.html#~launchWholeForumGrading">launchWholeForumGrading</a></li></ul></li><li><a href="module-mod_forum_grades_grader_selectors.html">mod_forum/grades/grader/selectors</a></li><li><a href="module-mod_forum_inpage_reply.html">mod_forum/inpage_reply</a></li><li><a href="module-mod_forum_local_grades_grader.html">mod_forum/local/grades/grader</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_forum_local_grades_grader.html#~displayGradingError">displayGradingError</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_local_grades_grader.html#~displayUserPicker">displayUserPicker</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_local_grades_grader.html#~fetchContentFromRender">fetchContentFromRender</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_local_grades_grader.html#~getSaveUserGradeFunction">getSaveUserGradeFunction</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_local_grades_grader.html#~getUpdateUserContentFunction">getUpdateUserContentFunction</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_local_grades_grader.html#~hideSearchResultContainer">hideSearchResultContainer</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_local_grades_grader.html#~hideUserSearchInput">hideUserSearchInput</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_local_grades_grader.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_local_grades_grader.html#~renderSearchResults">renderSearchResults</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_local_grades_grader.html#~searchForUsers">searchForUsers</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_local_grades_grader.html#~setContentContainerMargin">setContentContainerMargin</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_local_grades_grader.html#~showSearchResultContainer">showSearchResultContainer</a></li><li data-type='method' style='display: none;'><a href="module-mod_forum_local_grades_grader.html#~showUserSearchInput">showUserSearchInput</a></li></ul></li><li><a href="module-mod_forum_local_grades_local_grader_gradingpanel.html">mod_forum/local/grades/local/grader/gradingpanel</a></li><li><a href="module-mod_forum_local_grades_local_grader_selectors.html">mod_forum/local/grades/local/grader/selectors</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_forum_local_grades_local_grader_selectors.html#~getDataSelector">getDataSelector</a></li></ul></li><li><a href="module-mod_forum_local_grades_local_grader_user_picker.html">mod_forum/local/grades/local/grader/user_picker</a></li><li><a href="module-mod_forum_local_grades_local_grader_user_picker_selectors.html">mod_forum/local/grades/local/grader/user_picker/selectors</a></li><li><a href="module-mod_forum_local_layout_fullscreen.html">mod_forum/local/layout/fullscreen</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_forum_local_layout_fullscreen.html#.createLayout">createLayout</a></li></ul></li><li><a href="module-mod_forum_lock_toggle.html">mod_forum/lock_toggle</a></li><li><a href="module-mod_forum_pin_toggle.html">mod_forum/pin_toggle</a></li><li><a href="module-mod_forum_posts_list.html">mod_forum/posts_list</a></li><li><a href="module-mod_forum_repository.html">mod_forum/repository</a></li><li><a href="module-mod_forum_selectors.html">mod_forum/selectors</a></li><li><a href="module-mod_forum_subscription_toggle.html">mod_forum/subscription_toggle</a></li><li><a href="module-mod_lti_cartridge_registration_form.html">mod_lti/cartridge_registration_form</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_lti_cartridge_registration_form.html#.init">init</a></li><li data-type='method' style='display: none;'><a href="module-mod_lti_cartridge_registration_form.html#.init">init</a></li></ul></li><li><a href="module-mod_lti_contentitem.html">mod_lti/contentitem</a></li><li><a href="module-mod_lti_contentitem_return.html">mod_lti/contentitem_return</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_lti_contentitem_return.html#~init">init</a></li></ul></li><li><a href="module-mod_lti_external_registration.html">mod_lti/external_registration</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_lti_external_registration.html#~init">init</a></li></ul></li><li><a href="module-mod_lti_external_registration_return.html">mod_lti/external_registration_return</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_lti_external_registration_return.html#~init">init</a></li></ul></li><li><a href="module-mod_lti_form-field.html">mod_lti/form-field</a></li><li><a href="module-mod_lti_tool_card_controller.html">mod_lti/tool_card_controller</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_lti_tool_card_controller.html#.init">init</a></li><li data-type='method' style='display: none;'><a href="module-mod_lti_tool_card_controller.html#.init">init</a></li></ul></li><li><a href="module-mod_lti_tool_configure_controller.html">mod_lti/tool_configure_controller</a></li><li><a href="module-mod_lti_tool_proxy.html">mod_lti/tool_proxy</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_lti_tool_proxy.html#~create">create</a></li><li data-type='method' style='display: none;'><a href="module-mod_lti_tool_proxy.html#~delete">delete</a></li><li data-type='method' style='display: none;'><a href="module-mod_lti_tool_proxy.html#~query">query</a></li></ul></li><li><a href="module-mod_lti_tool_proxy_card_controller.html">mod_lti/tool_proxy_card_controller</a></li><li><a href="module-mod_lti_tool_type.html">mod_lti/tool_type</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_lti_tool_type.html#~create">create</a></li><li data-type='method' style='display: none;'><a href="module-mod_lti_tool_type.html#~delete">delete</a></li><li data-type='method' style='display: none;'><a href="module-mod_lti_tool_type.html#~isCartridge">isCartridge</a></li><li data-type='method' style='display: none;'><a href="module-mod_lti_tool_type.html#~query">query</a></li><li data-type='method' style='display: none;'><a href="module-mod_lti_tool_type.html#~query">query</a></li><li data-type='method' style='display: none;'><a href="module-mod_lti_tool_type.html#~update">update</a></li></ul></li><li><a href="module-mod_quiz_add_question_modal_launcher.html">mod_quiz/add_question_modal_launcher</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_quiz_add_question_modal_launcher.html#~init">init</a></li></ul></li><li><a href="module-mod_quiz_add_random_form.html">mod_quiz/add_random_form</a></li><li><a href="module-mod_quiz_add_random_question.html">mod_quiz/add_random_question</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_quiz_add_random_question.html#~init">init</a></li></ul></li><li><a href="module-mod_quiz_modal_add_random_question.html">mod_quiz/modal_add_random_question</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_add_random_question.html#~getAddOnPageId">getAddOnPageId</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_add_random_question.html#~getCategory">getCategory</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_add_random_question.html#~getCMID">getCMID</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_add_random_question.html#~getContextId">getContextId</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_add_random_question.html#~getReturnUrl">getReturnUrl</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_add_random_question.html#~loadForm">loadForm</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_add_random_question.html#~moveCancelButtonToTabs">moveCancelButtonToTabs</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_add_random_question.html#~moveFormElementIntoTab">moveFormElementIntoTab</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_add_random_question.html#~moveTabsIntoTabContent">moveTabsIntoTabContent</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_add_random_question.html#~setAddOnPageId">setAddOnPageId</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_add_random_question.html#~setCategory">setCategory</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_add_random_question.html#~setCMID">setCMID</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_add_random_question.html#~setContextId">setContextId</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_add_random_question.html#~setReturnUrl">setReturnUrl</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_add_random_question.html#~show">show</a></li></ul></li><li><a href="module-mod_quiz_modal_quiz_question_bank.html">mod_quiz/modal_quiz_question_bank</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_quiz_question_bank.html#~getAddOnPageId">getAddOnPageId</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_quiz_question_bank.html#~getContextId">getContextId</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_quiz_question_bank.html#~handleAddToQuizEvent">handleAddToQuizEvent</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_quiz_question_bank.html#~handleDisplayOptionFormEvent">handleDisplayOptionFormEvent</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_quiz_question_bank.html#~handlePreviewContainerEvent">handlePreviewContainerEvent</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_quiz_question_bank.html#~registerDisplayOptionListeners">registerDisplayOptionListeners</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_quiz_question_bank.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_quiz_question_bank.html#~reloadBodyContent">reloadBodyContent</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_quiz_question_bank.html#~setAddOnPageId">setAddOnPageId</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_quiz_question_bank.html#~setContextId">setContextId</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_modal_quiz_question_bank.html#~show">show</a></li></ul></li><li><a href="module-mod_quiz_preflightcheck.html">mod_quiz/preflightcheck</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_quiz_preflightcheck.html#.displayDialogue">displayDialogue</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_preflightcheck.html#.hideDialogue">hideDialogue</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_preflightcheck.html#.init">init</a></li><li data-type='method' style='display: none;'><a href="module-mod_quiz_preflightcheck.html#.launchQuizPopup">launchQuizPopup</a></li></ul></li><li><a href="module-mod_quiz_quizquestionbank.html">mod_quiz/quizquestionbank</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_quiz_quizquestionbank.html#~init">init</a></li></ul></li><li><a href="module-mod_quiz_random_question_form_preview.html">mod_quiz/random_question_form_preview</a></li><li><a href="module-mod_quiz_repaginate.html">mod_quiz/repaginate</a></li><li><a href="module-mod_survey_validation.html">mod_survey/validation</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_survey_validation.html#~ensureRadiosChosen">ensureRadiosChosen</a></li></ul></li><li><a href="module-mod_workshop_modform.html">mod_workshop/modform</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mod_workshop_modform.html#.init">init</a></li></ul></li><li><a href="module-mod_workshop_workshopview.html">mod_workshop/workshopview</a></li><li><a href="module-paygw_paypal_gateway_modal.html">paygw_paypal/gateway_modal</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-paygw_paypal_gateway_modal.html#~showModalWithPlaceholder">showModalWithPlaceholder</a></li><li data-type='method' style='display: none;'><a href="module-paygw_paypal_gateway_modal.html#~switchSdk">switchSdk</a></li></ul></li><li><a href="module-paygw_paypal_repository.html">paygw_paypal/repository</a></li><li><a href="module-qtype_ddmarker_form.html">qtype_ddmarker/form</a></li><li><a href="module-qtype_ddmarker_question.html">qtype_ddmarker/question</a></li><li><a href="module-qtype_ddmarker_shapes.html">qtype_ddmarker/shapes</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-qtype_ddmarker_shapes.html#~getSimilar">getSimilar</a></li><li data-type='method' style='display: none;'><a href="module-qtype_ddmarker_shapes.html#~make">make</a></li></ul></li><li><a href="module-qtype_ddwtos_ddwtos.html">qtype_ddwtos/ddwtos</a></li><li><a href="module-qtype_multichoice_answers.html">qtype_multichoice/answers</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-qtype_multichoice_answers.html#~init">init</a></li></ul></li><li><a href="module-qtype_multichoice_clearchoice.html">qtype_multichoice/clearchoice</a></li><li><a href="module-quizaccess_seb_managetemplates.html">quizaccess_seb/managetemplates</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-quizaccess_seb_managetemplates.html#~removeTemplate">removeTemplate</a></li><li data-type='method' style='display: none;'><a href="module-quizaccess_seb_managetemplates.html#~setup">setup</a></li><li data-type='method' style='display: none;'><a href="module-quizaccess_seb_managetemplates.html#~setup">setup</a></li></ul></li><li><a href="module-report_competency_grading_popup.html">report_competency/grading_popup</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-report_competency_grading_popup.html#~_contextLoaded">_contextLoaded</a></li><li data-type='method' style='display: none;'><a href="module-report_competency_grading_popup.html#~_handleClick">_handleClick</a></li><li data-type='method' style='display: none;'><a href="module-report_competency_grading_popup.html#~_pageContextLoaded">_pageContextLoaded</a></li><li data-type='method' style='display: none;'><a href="module-report_competency_grading_popup.html#~_refresh">_refresh</a></li></ul></li><li><a href="module-report_competency_user_course_navigation.html">report_competency/user_course_navigation</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-report_competency_user_course_navigation.html#~_moduleChanged">_moduleChanged</a></li><li data-type='method' style='display: none;'><a href="module-report_competency_user_course_navigation.html#~_userChanged">_userChanged</a></li></ul></li><li><a href="module-report_insights_actions.html">report_insights/actions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-report_insights_actions.html#~initBulk">initBulk</a></li></ul></li><li><a href="module-report_insights_message_users.html">report_insights/message_users</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-report_insights_message_users.html#~init">init</a></li></ul></li><li><a href="module-report_progress_completion_override.html">report_progress/completion_override</a></li><li><a href="module-theme_boost_aria.html">theme_boost/aria</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-theme_boost_aria.html#~autoFocus">autoFocus</a></li><li data-type='method' style='display: none;'><a href="module-theme_boost_aria.html#~dropdownFix">dropdownFix</a></li><li data-type='method' style='display: none;'><a href="module-theme_boost_aria.html#~tabElementFix">tabElementFix</a></li><li data-type='method' style='display: none;'><a href="module-theme_boost_aria.html#~updateTabFocus">updateTabFocus</a></li></ul></li><li><a href="module-theme_boost_drawer.html">theme_boost/drawer</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-theme_boost_drawer.html#~preventPageScroll">preventPageScroll</a></li><li data-type='method' style='display: none;'><a href="module-theme_boost_drawer.html#~registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-theme_boost_drawer.html#~toggleDrawer">toggleDrawer</a></li></ul></li><li><a href="module-theme_boost_form-display-errors.html">theme_boost/form-display-errors</a></li><li><a href="module-theme_boost_loader.html">theme_boost/loader</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-theme_boost_loader.html#~enablePopovers">enablePopovers</a></li><li data-type='method' style='display: none;'><a href="module-theme_boost_loader.html#~enableTooltips">enableTooltips</a></li><li data-type='method' style='display: none;'><a href="module-theme_boost_loader.html#~rememberTabs">rememberTabs</a></li></ul></li><li><a href="module-theme_boost_pending.html">theme_boost/pending</a></li><li><a href="module-theme_boost_popover.html">theme_boost/popover</a></li><li><a href="module-theme_boost_scroll.html">theme_boost/scroll</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-theme_boost_scroll.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-theme_boost_scroll.html#~update">update</a></li><li data-type='method' style='display: none;'><a href="module-theme_boost_scroll.html#~update">update</a></li></ul></li><li><a href="module-theme_boost_toast.html">theme_boost/toast</a></li><li><a href="module-tool_analytics_log_info.html">tool_analytics/log_info</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_analytics_log_info.html#~loadInfo">loadInfo</a></li></ul></li><li><a href="module-tool_analytics_model.html">tool_analytics/model</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_analytics_model.html#~confirmAction">confirmAction</a></li><li data-type='method' style='display: none;'><a href="module-tool_analytics_model.html#~selectEvaluationOptions">selectEvaluationOptions</a></li><li data-type='method' style='display: none;'><a href="module-tool_analytics_model.html#~selectExportOptions">selectExportOptions</a></li></ul></li><li><a href="module-tool_analytics_potential-contexts.html">tool_analytics/potential-contexts</a></li><li><a href="module-tool_dataprivacy_add_category.html">tool_dataprivacy/add_category</a></li><li><a href="module-tool_dataprivacy_add_purpose.html">tool_dataprivacy/add_purpose</a></li><li><a href="module-tool_dataprivacy_categoriesactions.html">tool_dataprivacy/categoriesactions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_dataprivacy_categoriesactions.html#~init">init</a></li></ul></li><li><a href="module-tool_dataprivacy_contactdpo.html">tool_dataprivacy/contactdpo</a></li><li><a href="module-tool_dataprivacy_data_deletion.html">tool_dataprivacy/data_deletion</a></li><li><a href="module-tool_dataprivacy_data_registry.html">tool_dataprivacy/data_registry</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_dataprivacy_data_registry.html#.init">init</a></li></ul></li><li><a href="module-tool_dataprivacy_data_request_modal.html">tool_dataprivacy/data_request_modal</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_dataprivacy_data_request_modal.html#~registerEventListeners">registerEventListeners</a></li></ul></li><li><a href="module-tool_dataprivacy_defaultsactions.html">tool_dataprivacy/defaultsactions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_dataprivacy_defaultsactions.html#~init">init</a></li></ul></li><li><a href="module-tool_dataprivacy_effective_retention_period.html">tool_dataprivacy/effective_retention_period</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_dataprivacy_effective_retention_period.html#~registerEventListeners">registerEventListeners</a></li></ul></li><li><a href="module-tool_dataprivacy_events.html">tool_dataprivacy/events</a></li><li><a href="module-tool_dataprivacy_expand_contract.html">tool_dataprivacy/expand_contract</a></li><li><a href="module-tool_dataprivacy_form-user-selector.html">tool_dataprivacy/form-user-selector</a></li><li><a href="module-tool_dataprivacy_myrequestactions.html">tool_dataprivacy/myrequestactions</a></li><li><a href="module-tool_dataprivacy_purposesactions.html">tool_dataprivacy/purposesactions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_dataprivacy_purposesactions.html#~init">init</a></li></ul></li><li><a href="module-tool_dataprivacy_request_filter.html">tool_dataprivacy/request_filter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_dataprivacy_request_filter.html#~init">init</a></li></ul></li><li><a href="module-tool_dataprivacy_requestactions.html">tool_dataprivacy/requestactions</a></li><li><a href="module-tool_langimport_search.html">tool_langimport/search</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_langimport_search.html#~init">init</a></li></ul></li><li><a href="module-tool_licensemanager_delete_license.html">tool_licensemanager/delete_license</a></li><li><a href="module-tool_lp_actionselector.html">tool_lp/actionselector</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_actionselector.html#~_afterRender">_afterRender</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_actionselector.html#~_find">_find</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_actionselector.html#~_refresh">_refresh</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_actionselector.html#~_render">_render</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_actionselector.html#~_reset">_reset</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_actionselector.html#~close">close</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_actionselector.html#~display">display</a></li></ul></li><li><a href="module-tool_lp_competencies.html">tool_lp/competencies</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_competencies.html#~deleteHandler">deleteHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencies.html#~doDelete">doDelete</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencies.html#~handleDrop">handleDrop</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencies.html#~pickCompetency">pickCompetency</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencies.html#~registerDragDrop">registerDragDrop</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencies.html#~registerEvents">registerEvents</a></li></ul></li><li><a href="module-tool_lp_competency_outcomes.html">tool_lp/competency_outcomes</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_competency_outcomes.html#~getAll">getAll</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competency_outcomes.html#~getString">getString</a></li></ul></li><li><a href="module-tool_lp_competency_plan_navigation.html">tool_lp/competency_plan_navigation</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_competency_plan_navigation.html#~_competencyChanged">_competencyChanged</a></li></ul></li><li><a href="module-tool_lp_competency_rule_all.html">tool_lp/competency_rule_all</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_competency_rule_all.html#~_getCompetenciesConfig">_getCompetenciesConfig</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competency_rule_all.html#~_getRequiredPoints">_getRequiredPoints</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competency_rule_all.html#~getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competency_rule_all.html#~getType">getType</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competency_rule_all.html#~getType">getType</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competency_rule_all.html#~injectTemplate">injectTemplate</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competency_rule_all.html#~isValid">isValid</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competency_rule_all.html#~isValid">isValid</a></li></ul></li><li></li><li><a href="module-tool_lp_competencyactions.html">tool_lp/competencyactions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~addCompetencyChildren">addCompetencyChildren</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~addHandler">addHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~allowDrop">allowDrop</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~confirmMove">confirmMove</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~deleteCompetencyHandler">deleteCompetencyHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~deleteRelatedHandler">deleteRelatedHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~doDelete">doDelete</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~doMove">doMove</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~dragEnter">dragEnter</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~dragLeave">dragLeave</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~dragStart">dragStart</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~dropOver">dropOver</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~editHandler">editHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~getTaxonomyAtLevel">getTaxonomyAtLevel</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~initMovePopup">initMovePopup</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~moveDownHandler">moveDownHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~moveHandler">moveHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~moveUpHandler">moveUpHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~parseTaxonomies">parseTaxonomies</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~relateCompetenciesHandler">relateCompetenciesHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~reloadPage">reloadPage</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~seeCoursesHandler">seeCoursesHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~selectionChanged">selectionChanged</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~strAddTaxonomy">strAddTaxonomy</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~strSelectedTaxonomy">strSelectedTaxonomy</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~triggerCompetencyViewedEvent">triggerCompetencyViewedEvent</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~updatedRelatedCompetencies">updatedRelatedCompetencies</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyactions.html#~updateSearchHandler">updateSearchHandler</a></li></ul></li><li><a href="module-tool_lp_Competencydialogue.html">tool_lp/Competencydialogue</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_Competencydialogue.html#~clickEventHandler">clickEventHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_Competencydialogue.html#~getCompetencyDataPromise">getCompetencyDataPromise</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_Competencydialogue.html#~showDialogue">showDialogue</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_Competencydialogue.html#~showDialogueFromData">showDialogueFromData</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_Competencydialogue.html#~triggerCompetencyViewedEvent">triggerCompetencyViewedEvent</a></li></ul></li><li><a href="module-tool_lp_competencypicker.html">tool_lp/competencypicker</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker.html#~_afterRender">_afterRender</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker.html#~_fetchCompetencies">_fetchCompetencies</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker.html#~_find">_find</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker.html#~_getFramework">_getFramework</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker.html#~_loadCompetencies">_loadCompetencies</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker.html#~_loadFrameworks">_loadFrameworks</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker.html#~_preRender">_preRender</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker.html#~_refresh">_refresh</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker.html#~_render">_render</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker.html#~_reset">_reset</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker.html#~_reset">_reset</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker.html#~_setDisallowedCompetencyIDs">_setDisallowedCompetencyIDs</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker.html#~close">close</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker.html#~display">display</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker.html#~on">on</a></li></ul></li><li><a href="module-tool_lp_competencypicker_user_plans.html">tool_lp/competencypicker_user_plans</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker_user_plans.html#~_afterRender">_afterRender</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker_user_plans.html#~_fetchCompetencies">_fetchCompetencies</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker_user_plans.html#~_getPlan">_getPlan</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker_user_plans.html#~_loadCompetencies">_loadCompetencies</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker_user_plans.html#~_loadPlans">_loadPlans</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker_user_plans.html#~_preRender">_preRender</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencypicker_user_plans.html#~_render">_render</a></li></ul></li><li><a href="module-tool_lp_competencyrule.html">tool_lp/competencyrule</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyrule.html#~_isValid">_isValid</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyrule.html#~_load">_load</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyrule.html#~_trigger">_trigger</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyrule.html#~_triggerChange">_triggerChange</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyrule.html#~canConfig">canConfig</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyrule.html#~getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyrule.html#~getType">getType</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyrule.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyrule.html#~injectTemplate">injectTemplate</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyrule.html#~on">on</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyrule.html#~setTargetCompetency">setTargetCompetency</a></li></ul></li><li><a href="module-tool_lp_competencyruleconfig.html">tool_lp/competencyruleconfig</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_afterChange">_afterChange</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_afterRender">_afterRender</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_afterRuleConfigChange">_afterRuleConfigChange</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_find">_find</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_getApplicableOutcomesOptions">_getApplicableOutcomesOptions</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_getApplicableRulesOptions">_getApplicableRulesOptions</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_getConfig">_getConfig</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_getOutcome">_getOutcome</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_getRule">_getRule</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_getRuleName">_getRuleName</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_initOutcomes">_initOutcomes</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_initRules">_initRules</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_isValid">_isValid</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_preRender">_preRender</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_render">_render</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_setUp">_setUp</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_switchedOutcome">_switchedOutcome</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_switchedRule">_switchedRule</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~_trigger">_trigger</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~canBeConfigured">canBeConfigured</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~close">close</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~display">display</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~on">on</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~ready">ready</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyruleconfig.html#~setTargetCompetencyId">setTargetCompetencyId</a></li></ul></li><li><a href="module-tool_lp_competencyselect.html">tool_lp/competencyselect</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyselect.html#~getChildren">getChildren</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyselect.html#~hasChildren">hasChildren</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_competencyselect.html#~reloadCompetencies">reloadCompetencies</a></li></ul></li><li><a href="module-tool_lp_configurecoursecompetencysettings.html">tool_lp/configurecoursecompetencysettings</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_configurecoursecompetencysettings.html#~addSaveListener">addSaveListener</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_configurecoursecompetencysettings.html#~cancelChanges">cancelChanges</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_configurecoursecompetencysettings.html#~configureSettings">configureSettings</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_configurecoursecompetencysettings.html#~saveSettings">saveSettings</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_configurecoursecompetencysettings.html#~saveSettings">saveSettings</a></li></ul></li><li><a href="module-tool_lp_dialogue.html">tool_lp/dialogue</a></li><li><a href="module-tool_lp_dragdrop-reorder.html">tool_lp/dragdrop-reorder</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_dragdrop-reorder.html#.dragdrop">dragdrop</a></li></ul></li><li><a href="module-tool_lp_event_base.html">tool_lp/event_base</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_event_base.html#~_trigger">_trigger</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_event_base.html#~on">on</a></li></ul></li><li><a href="module-tool_lp_evidence_delete.html">tool_lp/evidence_delete</a></li><li><a href="module-tool_lp_form-cohort-selector.html">tool_lp/form-cohort-selector</a></li><li><a href="module-tool_lp_form-user-selector.html">tool_lp/form-user-selector</a></li><li><a href="module-tool_lp_form_competency_element.html">tool_lp/form_competency_element</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_form_competency_element.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_form_competency_element.html#~pickCompetenciesHandler">pickCompetenciesHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_form_competency_element.html#~renderCompetencies">renderCompetencies</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_form_competency_element.html#~unpickCompetenciesHandler">unpickCompetenciesHandler</a></li></ul></li><li><a href="module-tool_lp_frameworkactions.html">tool_lp/frameworkactions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_frameworkactions.html#~deleteHandler">deleteHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_frameworkactions.html#~doDuplicate">doDuplicate</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_frameworkactions.html#~duplicateHandler">duplicateHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_frameworkactions.html#~init">init</a></li></ul></li><li><a href="module-tool_lp_frameworks_datasource.html">tool_lp/frameworks_datasource</a></li><li><a href="module-tool_lp_grade_dialogue.html">tool_lp/grade_dialogue</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_grade_dialogue.html#~_afterRender">_afterRender</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_grade_dialogue.html#~_find">_find</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_grade_dialogue.html#~_render">_render</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_grade_dialogue.html#~close">close</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_grade_dialogue.html#~display">display</a></li></ul></li><li><a href="module-tool_lp_grade_user_competency_inline.html">tool_lp/grade_user_competency_inline</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_grade_user_competency_inline.html#~_setUp">_setUp</a></li></ul></li><li><a href="module-tool_lp_menubar.html">tool_lp/menubar</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_menubar.html#~addAriaAttributes">addAriaAttributes</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_menubar.html#~addEventListeners">addEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_menubar.html#~closeAll">closeAll</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_menubar.html#~closeAllSubMenus">closeAllSubMenus</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_menubar.html#~enhance">enhance</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_menubar.html#~handleClick">handleClick</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_menubar.html#~moveDown">moveDown</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_menubar.html#~moveToNext">moveToNext</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_menubar.html#~moveToPrevious">moveToPrevious</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_menubar.html#~moveUp">moveUp</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_menubar.html#~openSubMenu">openSubMenu</a></li></ul></li><li><a href="module-tool_lp_module_navigation.html">tool_lp/module_navigation</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_module_navigation.html#~_moduleChanged">_moduleChanged</a></li></ul></li><li><a href="module-tool_lp_parentcompetency_form.html">tool_lp/parentcompetency_form</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_parentcompetency_form.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_parentcompetency_form.html#~registerEvents">registerEvents</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_parentcompetency_form.html#~setParent">setParent</a></li></ul></li><li><a href="module-tool_lp_planactions.html">tool_lp/planactions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_planactions.html#~_doApprove">_doApprove</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_planactions.html#~_doCancelReviewRequest">_doCancelReviewRequest</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_planactions.html#~_doRequestReview">_doRequestReview</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_planactions.html#~_doStartReview">_doStartReview</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_planactions.html#~_doStopReview">_doStopReview</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_planactions.html#~_doUnapprove">_doUnapprove</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_planactions.html#~_eventHandler">_eventHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_planactions.html#~approve">approve</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_planactions.html#~cancelReviewRequest">cancelReviewRequest</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_planactions.html#~requestReview">requestReview</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_planactions.html#~startReview">startReview</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_planactions.html#~stopReview">stopReview</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_planactions.html#~unapprove">unapprove</a></li></ul></li><li><a href="module-tool_lp_scaleconfig.html">tool_lp/scaleconfig</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_scaleconfig.html#~getScaleValues">getScaleValues</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_scaleconfig.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_scaleconfig.html#~initScaleConfig">initScaleConfig</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_scaleconfig.html#~retrieveOriginalScaleConfig">retrieveOriginalScaleConfig</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_scaleconfig.html#~scaleChangeHandler">scaleChangeHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_scaleconfig.html#~setScaleConfig">setScaleConfig</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_scaleconfig.html#~showConfig">showConfig</a></li></ul></li><li><a href="module-tool_lp_scalevalues.html">tool_lp/scalevalues</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_scalevalues.html#~get_values">get_values</a></li></ul></li><li><a href="module-tool_lp_templateactions.html">tool_lp/templateactions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_templateactions.html#~confirmDelete">confirmDelete</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_templateactions.html#~deleteHandler">deleteHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_templateactions.html#~doDelete">doDelete</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_templateactions.html#~doDuplicate">doDuplicate</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_templateactions.html#~duplicateHandler">duplicateHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_templateactions.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_templateactions.html#~reloadList">reloadList</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_templateactions.html#~updatePage">updatePage</a></li></ul></li><li><a href="module-tool_lp_tree.html">tool_lp/tree</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~bindEventHandlers">bindEventHandlers</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~bindEventHandlers">bindEventHandlers</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~collapseGroup">collapseGroup</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~collapseGroup">collapseGroup</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~expandAllChildGroups">expandAllChildGroups</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~expandAllGroups">expandAllGroups</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~expandGroup">expandGroup</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~expandGroup">expandGroup</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~finishExpandingGroup">finishExpandingGroup</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~getVisibleItems">getVisibleItems</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~handleBlur">handleBlur</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~handleClick">handleClick</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~handleClick">handleClick</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~handleDblClick">handleDblClick</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~handleExpandCollapseClick">handleExpandCollapseClick</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~handleFocus">handleFocus</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~handleFocus">handleFocus</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~handleKeyDown">handleKeyDown</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~handleKeyDown">handleKeyDown</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~handleKeyPress">handleKeyPress</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~initialiseNodes">initialiseNodes</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~isGroupCollapsed">isGroupCollapsed</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~isGroupCollapsible">isGroupCollapsible</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~isGroupItem">isGroupItem</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~isGroupItem">isGroupItem</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~multiSelectItem">multiSelectItem</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~on">on</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~refreshVisibleItemsCache">refreshVisibleItemsCache</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~removeAllFromTabOrder">removeAllFromTabOrder</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~selectItem">selectItem</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~setActiveItem">setActiveItem</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~setAriaSelectedFalseOnItems">setAriaSelectedFalseOnItems</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~toggleGroup">toggleGroup</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~toggleGroup">toggleGroup</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~toggleItem">toggleItem</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~triggerChange">triggerChange</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_tree.html#~updateFocus">updateFocus</a></li></ul></li><li></li><li><a href="module-tool_lp_user_competency_course_navigation.html">tool_lp/user_competency_course_navigation</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_course_navigation.html#~_competencyChanged">_competencyChanged</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_course_navigation.html#~_userChanged">_userChanged</a></li></ul></li><li><a href="module-tool_lp_user_competency_info.html">tool_lp/user_competency_info</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_info.html#~reload">reload</a></li></ul></li><li><a href="module-tool_lp_user_competency_plan_popup.html">tool_lp/user_competency_plan_popup</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_plan_popup.html#~_contextLoaded">_contextLoaded</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_plan_popup.html#~_handleClick">_handleClick</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_plan_popup.html#~_pageContextLoaded">_pageContextLoaded</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_plan_popup.html#~_refresh">_refresh</a></li></ul></li><li><a href="module-tool_lp_user_competency_workflow.html">tool_lp/user_competency_workflow</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_workflow.html#~_cancelReviewRequest">_cancelReviewRequest</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_workflow.html#~_cancelReviewRequestHandler">_cancelReviewRequestHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_workflow.html#~_requestReview">_requestReview</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_workflow.html#~_requestReviewHandler">_requestReviewHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_workflow.html#~_startReview">_startReview</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_workflow.html#~_startReviewHandler">_startReviewHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_workflow.html#~_stopReview">_stopReview</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_workflow.html#~_stopReviewHandler">_stopReviewHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_workflow.html#~cancelReviewRequest">cancelReviewRequest</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_workflow.html#~requestReview">requestReview</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_workflow.html#~startReview">startReview</a></li><li data-type='method' style='display: none;'><a href="module-tool_lp_user_competency_workflow.html#~stopReview">stopReview</a></li></ul></li><li><a href="module-tool_lp_user_evidence_actions.html">tool_lp/user_evidence_actions</a></li><li><a href="module-tool_moodlenet_instance_form.html">tool_moodlenet/instance_form</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_moodlenet_instance_form.html#~chooserNavigateFromMnet">chooserNavigateFromMnet</a></li><li data-type='method' style='display: none;'><a href="module-tool_moodlenet_instance_form.html#~chooserNavigateToMnet">chooserNavigateToMnet</a></li><li data-type='method' style='display: none;'><a href="module-tool_moodlenet_instance_form.html#~registerListenerEvents">registerListenerEvents</a></li></ul></li><li><a href="module-tool_moodlenet_select_page.html">tool_moodlenet/select_page</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_moodlenet_select_page.html#~addCourses">addCourses</a></li><li data-type='method' style='display: none;'><a href="module-tool_moodlenet_select_page.html#~debounce">debounce</a></li><li data-type='method' style='display: none;'><a href="module-tool_moodlenet_select_page.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-tool_moodlenet_select_page.html#~registerListenerEvents">registerListenerEvents</a></li><li data-type='method' style='display: none;'><a href="module-tool_moodlenet_select_page.html#~searchCourses">searchCourses</a></li></ul></li><li><a href="module-tool_moodlenet_selectors.html">tool_moodlenet/selectors</a></li><li><a href="module-tool_moodlenet_validator.html">tool_moodlenet/validator</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_moodlenet_validator.html#~validation">validation</a></li></ul></li><li><a href="module-tool_policy_acceptances_filter.html">tool_policy/acceptances_filter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_policy_acceptances_filter.html#~getForm">getForm</a></li><li data-type='method' style='display: none;'><a href="module-tool_policy_acceptances_filter.html#~getForm">getForm</a></li><li data-type='method' style='display: none;'><a href="module-tool_policy_acceptances_filter.html#~init">init</a></li></ul></li><li><a href="module-tool_policy_acceptmodal.html">tool_policy/acceptmodal</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_policy_acceptmodal.html#~init">init</a></li></ul></li><li><a href="module-tool_policy_managedocsactions.html">tool_policy/managedocsactions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_policy_managedocsactions.html#~init">init</a></li></ul></li><li><a href="module-tool_policy_policyactions.html">tool_policy/policyactions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_policy_policyactions.html#~init">init</a></li></ul></li><li><a href="module-tool_templatelibrary_display.html">tool_templatelibrary/display</a></li><li><a href="module-tool_templatelibrary_search.html">tool_templatelibrary/search</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_templatelibrary_search.html#~queueRefresh">queueRefresh</a></li><li data-type='method' style='display: none;'><a href="module-tool_templatelibrary_search.html#~refreshSearch">refreshSearch</a></li><li data-type='method' style='display: none;'><a href="module-tool_templatelibrary_search.html#~reloadListTemplate">reloadListTemplate</a></li></ul></li><li><a href="module-tool_usertours_filter_cssselector.html">tool_usertours/filter_cssselector</a></li><li><a href="module-tool_usertours_managesteps.html">tool_usertours/managesteps</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_usertours_managesteps.html#~removeStep">removeStep</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_managesteps.html#~setup">setup</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_managesteps.html#~setup">setup</a></li></ul></li><li><a href="module-tool_usertours_managetours.html">tool_usertours/managetours</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_usertours_managetours.html#~removeTour">removeTour</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_managetours.html#~setup">setup</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_managetours.html#~setup">setup</a></li></ul></li><li><a href="module-tool_usertours_tour.html">tool_usertours/tour</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#fireEventHandlers">fireEventHandlers</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~accessibilityHide">accessibilityHide</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~accessibilityShow">accessibilityShow</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~addEventHandler">addEventHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~addStepToPage">addStepToPage</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~announceStep">announceStep</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~calculateInherittedBackgroundColor">calculateInherittedBackgroundColor</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~calculatePosition">calculatePosition</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~calculateScrollTop">calculateScrollTop</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~calculateScrollTop">calculateScrollTop</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~calculateZIndex">calculateZIndex</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~checkMinimumRequirements">checkMinimumRequirements</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~configure">configure</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~endTour">endTour</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~getCurrentStepNumber">getCurrentStepNumber</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~getNextStepNumber">getNextStepNumber</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~getPreviousStepNumber">getPreviousStepNumber</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~getStepConfig">getStepConfig</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~getStepContainer">getStepContainer</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~getStepTarget">getStepTarget</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~getTemplateContent">getTemplateContent</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~gotoStep">gotoStep</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~handleKeyDown">handleKeyDown</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~hide">hide</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~isFirstStep">isFirstStep</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~isLastStep">isLastStep</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~isStepActuallyVisible">isStepActuallyVisible</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~isStepPotentiallyVisible">isStepPotentiallyVisible</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~next">next</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~normalizeStepConfig">normalizeStepConfig</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~positionBackdrop">positionBackdrop</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~positionStep">positionStep</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~previous">previous</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~processStepListeners">processStepListeners</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~recalculatePlacement">recalculatePlacement</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~renderStep">renderStep</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~reset">reset</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~resetStepDefaults">resetStepDefaults</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~resetStepListeners">resetStepListeners</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~restartTour">restartTour</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~revealStep">revealStep</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~setCurrentStepNumber">setCurrentStepNumber</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~setStepDefaults">setStepDefaults</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~show">show</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~startTour">startTour</a></li></ul></li><li><a href="module-tool_usertours_usertours.html">tool_usertours/usertours</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_usertours_usertours.html#~addResetLink">addResetLink</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_usertours.html#~fetchTour">fetchTour</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_usertours.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_usertours.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_usertours.html#~markStepShown">markStepShown</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_usertours.html#~markTourComplete">markTourComplete</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_usertours.html#~resetTourState">resetTourState</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_usertours.html#~resetTourState">resetTourState</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_usertours.html#~startBootstrapTour">startBootstrapTour</a></li></ul></li></ul><h3>Events</h3><ul><li><a href="module-editor_atto_events.html#~event:attoButtonHighlightToggled">attoButtonHighlightToggled</a></li></ul><h3>Classes</h3><ul><li><a href="core_modal.html">core/modal</a></li><li><a href="core_sortable_list.html">core/sortable_list</a></li><li><a href="event.html">event</a></li><li><a href="events.html">events</a></li><li><a href="keys.html">keys</a></li><li><a href="loading_icon.html">loading_icon</a></li><li><a href="localstorage.html">localstorage</a></li><li><a href="modal_events.html">modal_events</a></li><li><a href="modal_registry.html">modal_registry</a></li><li><a href="module-core_chart_axis-core_chart_axis.html">core/chart_axis</a></li><li><a href="module-core_icon_system_fontawesome-core_icon_system_fontawesome.html">core/icon_system_fontawesome</a></li><li><a href="module-core_icon_system_standard-core_icon_system_standard.html">core/icon_system_standard</a></li><li><a href="module-core_icon_system-core_icon_system.html">core/icon_system</a></li><li><a href="module-core_modal_alert.html">core/modal_alert</a></li><li><a href="module-core_modal_backdrop-core_modal_backdrop.html">core/modal_backdrop</a></li><li><a href="module-core_modal_cancel.html">core/modal_cancel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_modal_cancel.html#registerEventListeners">registerEventListeners</a></li></ul></li><li><a href="module-core_modal_save_cancel.html">core/modal_save_cancel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_modal_save_cancel.html#registerEventListeners">registerEventListeners</a></li><li data-type='method' style='display: none;'><a href="module-core_modal_save_cancel.html#setFooter">setFooter</a></li><li data-type='method' style='display: none;'><a href="module-core_modal_save_cancel.html#setSaveButtonText">setSaveButtonText</a></li></ul></li><li><a href="module-core_form_dynamicform.html">core_form/dynamicform</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#addEventListener">addEventListener</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#disableButtons">disableButtons</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#enableButtons">enableButtons</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#load">load</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#notifyFormSubmitAjax">notifyFormSubmitAjax</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#notifyResetFormChanges">notifyResetFormChanges</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#onSubmitSuccess">onSubmitSuccess</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#processCancelButton">processCancelButton</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#submitFormAjax">submitFormAjax</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#updateForm">updateForm</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#validateElements">validateElements</a></li><li data-type='method' style='display: none;'><a href="module-core_form_dynamicform.html#~submitButtonPressed">submitButtonPressed</a></li></ul></li><li><a href="module-core_form_dynamicform-core_form_dynamicform.html">core_form/dynamicform</a></li><li><a href="module-core_form_encryptedpassword-core_form_encryptedpassword.html">core_form/encryptedpassword</a></li><li><a href="module-core_form_modalform.html">core_form/modalform</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#addEventListener">addEventListener</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#disableButtons">disableButtons</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#enableButtons">enableButtons</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#notifyFormSubmitAjax">notifyFormSubmitAjax</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#notifyResetFormChanges">notifyResetFormChanges</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#onSubmitError">onSubmitError</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#processNoSubmitButton">processNoSubmitButton</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#submitFormAjax">submitFormAjax</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#validateElements">validateElements</a></li><li data-type='method' style='display: none;'><a href="module-core_form_modalform.html#~setSaveButtonClasses">setSaveButtonClasses</a></li></ul></li><li><a href="module-core_form_passwordunmask-core_form_passwordunmask.html">core_form/passwordunmask</a></li><li><a href="module-core_form_showadvanced-core_form_showadvanced.html">core_form/showadvanced</a></li><li><a href="module-core_payment_modal_gateways.html">core_payment/modal_gateways</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_payment_modal_gateways.html#~registerEventListeners">registerEventListeners</a></li></ul></li><li><a href="module-core_user_local_participantsfilter_filter.html">core_user/local/participantsfilter/filter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-core_user_local_participantsfilter_filter.html#addValueSelector">addValueSelector</a></li><li data-type='method' style='display: none;'><a href="module-core_user_local_participantsfilter_filter.html#getFilterValueNode">getFilterValueNode</a></li><li data-type='method' style='display: none;'><a href="module-core_user_local_participantsfilter_filter.html#getSourceDataForFilter">getSourceDataForFilter</a></li><li data-type='method' style='display: none;'><a href="module-core_user_local_participantsfilter_filter.html#tearDown">tearDown</a></li><li data-type='method' style='display: none;'><a href="module-core_user_local_participantsfilter_filter.html#~getOptionsForSelect">getOptionsForSelect</a></li></ul></li><li><a href="module-mod_assign_grading_actions-mod_assign_grading_actions.html">mod_assign/grading_actions</a></li><li><a href="module-mod_assign_grading_navigation_user_info-mod_assign_grading_navigation_user_info.html">mod_assign/grading_navigation_user_info</a></li><li><a href="module-mod_assign_grading_navigation-mod_assign_grading_navigation.html">mod_assign/grading_navigation</a></li><li><a href="module-mod_assign_grading_panel-mod_assign_grading_panel.html">mod_assign/grading_panel</a></li><li><a href="module-mod_assign_grading_review_panel-mod_assign_grading_review_panel.html">mod_assign/grading_review_panel</a></li><li><a href="module-mod_forum_local_grades_local_grader_user_picker-mod_forum_local_grades_local_grader_user_picker.html">mod_forum/local/grades/local/grader/user_picker</a></li><li></li><li><a href="module-qtype_ddmarker_shapes-Circle.html">Circle</a></li><li><a href="module-qtype_ddmarker_shapes-NullShape.html">NullShape</a></li><li><a href="module-qtype_ddmarker_shapes-Point.html">Point</a></li><li><a href="module-qtype_ddmarker_shapes-Polygon.html">Polygon</a></li><li><a href="module-qtype_ddmarker_shapes-Rectangle.html">Rectangle</a></li><li><a href="module-qtype_ddmarker_shapes-Shape.html">Shape</a></li><li><a href="module-report_competency_grading_popup-report_competency_grading_popup.html">report_competency/grading_popup</a></li><li><a href="module-report_competency_user_course_navigation-report_competency_user_course_navigation.html">report_competency/user_course_navigation</a></li><li><a href="module-theme_boost_scroll-theme_boost_scroll.html">theme_boost/scroll</a></li><li><a href="module-tool_lp_actionselector-tool_lp_actionselector.html">tool_lp/actionselector</a></li><li><a href="module-tool_lp_competencies-tool_lp_competencies.html">tool_lp/competencies</a></li><li><a href="module-tool_lp_competency_rule_all-tool_lp_competency_rule_all.html">tool_lp/competency_rule_all</a></li><li><a href="module-tool_lp_competencypicker_user_plans-tool_lp_competencypicker_user_plans.html">tool_lp/competencypicker_user_plans</a></li><li><a href="module-tool_lp_grade_dialogue-tool_lp_grade_dialogue.html">tool_lp/grade_dialogue</a></li><li><a href="module-tool_lp_grade_user_competency_inline-tool_lp_grade_user_competency_inline.html">tool_lp/grade_user_competency_inline</a></li><li><a href="module-tool_lp_module_navigation-tool_lp_module_navigation.html">tool_lp/module_navigation</a></li><li><a href="module-tool_lp_user_competency_course_navigation-tool_lp_user_competency_course_navigation.html">tool_lp/user_competency_course_navigation</a></li><li><a href="module-tool_usertours_tour.html">tool_usertours/tour</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#fireEventHandlers">fireEventHandlers</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~accessibilityHide">accessibilityHide</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~accessibilityShow">accessibilityShow</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~addEventHandler">addEventHandler</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~addStepToPage">addStepToPage</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~announceStep">announceStep</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~calculateInherittedBackgroundColor">calculateInherittedBackgroundColor</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~calculatePosition">calculatePosition</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~calculateScrollTop">calculateScrollTop</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~calculateScrollTop">calculateScrollTop</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~calculateZIndex">calculateZIndex</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~checkMinimumRequirements">checkMinimumRequirements</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~configure">configure</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~endTour">endTour</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~getCurrentStepNumber">getCurrentStepNumber</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~getNextStepNumber">getNextStepNumber</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~getPreviousStepNumber">getPreviousStepNumber</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~getStepConfig">getStepConfig</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~getStepContainer">getStepContainer</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~getStepTarget">getStepTarget</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~getTemplateContent">getTemplateContent</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~gotoStep">gotoStep</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~handleKeyDown">handleKeyDown</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~hide">hide</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~isFirstStep">isFirstStep</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~isLastStep">isLastStep</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~isStepActuallyVisible">isStepActuallyVisible</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~isStepPotentiallyVisible">isStepPotentiallyVisible</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~next">next</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~normalizeStepConfig">normalizeStepConfig</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~positionBackdrop">positionBackdrop</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~positionStep">positionStep</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~previous">previous</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~processStepListeners">processStepListeners</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~recalculatePlacement">recalculatePlacement</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~renderStep">renderStep</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~reset">reset</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~resetStepDefaults">resetStepDefaults</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~resetStepListeners">resetStepListeners</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~restartTour">restartTour</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~revealStep">revealStep</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~setCurrentStepNumber">setCurrentStepNumber</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~setStepDefaults">setStepDefaults</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~show">show</a></li><li data-type='method' style='display: none;'><a href="module-tool_usertours_tour.html#~startTour">startTour</a></li></ul></li><li><a href="notification_popover_controller.html">notification_popover_controller</a></li></ul><h3>Global</h3><ul><li><a href="global.html#accessibilityHide">accessibilityHide</a></li><li><a href="global.html#accessibilityShow">accessibilityShow</a></li><li><a href="global.html#addIconToContainer">addIconToContainer</a></li><li><a href="global.html#addIconToContainerWithPromise">addIconToContainerWithPromise</a></li><li><a href="global.html#asyncSet">asyncSet</a></li><li><a href="global.html#attachToDOM">attachToDOM</a></li><li><a href="global.html#calculateZIndex">calculateZIndex</a></li><li><a href="global.html#countOtherVisibleModals">countOtherVisibleModals</a></li><li><a href="global.html#destroy">destroy</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#getBackdrop">getBackdrop</a></li><li><a href="global.html#getBody">getBody</a></li><li><a href="global.html#getBodyPromise">getBodyPromise</a></li><li><a href="global.html#getContent">getContent</a></li><li><a href="global.html#getFooter">getFooter</a></li><li><a href="global.html#getFooterPromise">getFooterPromise</a></li><li><a href="global.html#getLegacyEvents">getLegacyEvents</a></li><li><a href="global.html#getModal">getModal</a></li><li><a href="global.html#getModalCount">getModalCount</a></li><li><a href="global.html#getNotificationElement">getNotificationElement</a></li><li><a href="global.html#getOffset">getOffset</a></li><li><a href="global.html#getRoot">getRoot</a></li><li><a href="global.html#getTitle">getTitle</a></li><li><a href="global.html#getTitlePromise">getTitlePromise</a></li><li><a href="global.html#hasDoneInitialLoad">hasDoneInitialLoad</a></li><li><a href="global.html#hasFocus">hasFocus</a></li><li><a href="global.html#hasFooterContent">hasFooterContent</a></li><li><a href="global.html#hasLoadedAllContent">hasLoadedAllContent</a></li><li><a href="global.html#hasTransitions">hasTransitions</a></li><li><a href="global.html#hide">hide</a></li><li><a href="global.html#hideFooter">hideFooter</a></li><li><a href="global.html#hideIfNotForm">hideIfNotForm</a></li><li><a href="global.html#hideUnreadCount">hideUnreadCount</a></li><li><a href="global.html#incrementOffset">incrementOffset</a></li><li><a href="global.html#isLarge">isLarge</a></li><li><a href="global.html#isSmall">isSmall</a></li><li><a href="global.html#isVisible">isVisible</a></li><li><a href="global.html#loadMoreNotifications">loadMoreNotifications</a></li><li><a href="global.html#markAllAsRead">markAllAsRead</a></li><li><a href="global.html#notifyEditorContentRestored">notifyEditorContentRestored</a></li><li><a href="global.html#notifyFilterContentUpdated">notifyFilterContentUpdated</a></li><li><a href="global.html#notifyFormSubmittedAjax">notifyFormSubmittedAjax</a></li><li><a href="global.html#prepare">prepare</a></li><li><a href="global.html#register">register</a></li><li><a href="global.html#registerCloseOnCancel">registerCloseOnCancel</a></li><li><a href="global.html#registerCloseOnSave">registerCloseOnSave</a></li><li><a href="global.html#registerEventListeners">registerEventListeners</a></li><li><a href="global.html#renderNotifications">renderNotifications</a></li><li><a href="global.html#renderUnreadCount">renderUnreadCount</a></li><li><a href="global.html#set">set</a></li><li><a href="global.html#setBody">setBody</a></li><li><a href="global.html#setFooter">setFooter</a></li><li><a href="global.html#setLarge">setLarge</a></li><li><a href="global.html#setLoadedAllContent">setLoadedAllContent</a></li><li><a href="global.html#setScrollable">setScrollable</a></li><li><a href="global.html#setSmall">setSmall</a></li><li><a href="global.html#setTitle">setTitle</a></li><li><a href="global.html#show">show</a></li><li><a href="global.html#showFooter">showFooter</a></li><li><a href="global.html#start">start</a></li><li><a href="global.html#stop">stop</a></li><li><a href="global.html#StorageWrapper">StorageWrapper</a></li><li><a href="global.html#updateButtonAriaLabel">updateButtonAriaLabel</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">message/amd/src/message_drawer_view_conversation.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// This file is part of Moodle - http://moodle.org/
//
// Moodle is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// Moodle is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/>.

/**
 * Controls the conversation page in the message drawer.
 *
 * This function handles all of the user actions that the user can take
 * when interacting with the conversation page.
 *
 * It maintains a view state which is a data representation of the view
 * and only operates on that data.
 *
 * The view state is immutable and should never be modified directly. Instead
 * all changes to the view state should be done using the StateManager which
 * will generate a new version of the view state with the requested changes.
 *
 * After any changes to the view state the module will call the render function
 * to ask the renderer to update the UI.
 *
 * General rules for this module:
 * 1.) Never modify viewState directly. All changes should be via the StateManager.
 * 2.) Call render() with the new state when you want to update the UI
 * 3.) Never modify the UI directly in this module. This module is only concerned
 *     with the data in the view state.
 *
 * The general flow for a user interaction will be something like:
 * User interaction: User clicks "confirm block" button to block the other user
 *      1.) This module is hears the click
 *      2.) This module sends a request to the server to block the user
 *      3.) The server responds with the new user profile
 *      4.) This module generates a new state using the StateManager with the updated
 *          user profile.
 *      5.) This module asks the Patcher to generate a patch from the current state and
 *          the newly generated state. This patch tells the renderer what has changed
 *          between the states.
 *      6.) This module gives the Renderer the generated patch. The renderer updates
 *          the UI with changes according to the patch.
 *
 * @module     core_message/message_drawer_view_conversation
 * @copyright  2018 Ryan Wyllie &lt;ryan@moodle.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define(
[
    'jquery',
    'core/auto_rows',
    'core/backoff_timer',
    'core/custom_interaction_events',
    'core/notification',
    'core/pending',
    'core/pubsub',
    'core/str',
    'core_message/message_repository',
    'core_message/message_drawer_events',
    'core_message/message_drawer_view_conversation_constants',
    'core_message/message_drawer_view_conversation_patcher',
    'core_message/message_drawer_view_conversation_renderer',
    'core_message/message_drawer_view_conversation_state_manager',
    'core_message/message_drawer_router',
    'core_message/message_drawer_routes',
    'core/emoji/auto_complete',
    'core/emoji/picker'
],
function(
    $,
    AutoRows,
    BackOffTimer,
    CustomEvents,
    Notification,
    Pending,
    PubSub,
    Str,
    Repository,
    MessageDrawerEvents,
    Constants,
    Patcher,
    Renderer,
    StateManager,
    MessageDrawerRouter,
    MessageDrawerRoutes,
    initialiseEmojiAutoComplete,
    initialiseEmojiPicker
) {

    // Contains a cache of all view states that have been loaded so far
    // which saves us having to reload stuff with network requests when
    // switching between conversations.
    var stateCache = {};
    // The current data representation of the view.
    var viewState = null;
    var loadedAllMessages = false;
    var messagesOffset = 0;
    var newMessagesPollTimer = null;
    var isRendering = false;
    var renderBuffer = [];
    // If the UI is currently resetting.
    var isResetting = true;
    // If the UI is currently sending a message.
    var isSendingMessage = false;
    // If the UI is currently deleting a conversation.
    var isDeletingConversationContent = false;
    // A buffer of messages to send.
    var sendMessageBuffer = [];
    // These functions which will be generated when this module is
    // first called. See generateRenderFunction for details.
    var render = null;
    // The list of renderers that have been registered to render
    // this conversation. See generateRenderFunction for details.
    var renderers = [];

    var NEWEST_FIRST = Constants.NEWEST_MESSAGES_FIRST;
    var LOAD_MESSAGE_LIMIT = Constants.LOAD_MESSAGE_LIMIT;
    var MILLISECONDS_IN_SEC = Constants.MILLISECONDS_IN_SEC;
    var SELECTORS = Constants.SELECTORS;
    var CONVERSATION_TYPES = Constants.CONVERSATION_TYPES;

    /**
     * Get the other user userid.
     *
     * @return {Number} Userid.
     */
    var getOtherUserId = function() {
        if (!viewState || viewState.type == CONVERSATION_TYPES.PUBLIC) {
            return null;
        }

        var loggedInUserId = viewState.loggedInUserId;
        if (viewState.type == CONVERSATION_TYPES.SELF) {
            // It's a self-conversation, so the other user is the one logged in.
            return loggedInUserId;
        }

        var otherUserIds = Object.keys(viewState.members).filter(function(userId) {
            return loggedInUserId != userId;
        });

        return otherUserIds.length ? otherUserIds[0] : null;
    };

    /**
     * Search the cache to see if we've already loaded a private conversation
     * with the given user id.
     *
     * @param {Number} userId The id of the other user.
     * @return {Number|null} Conversation id.
     */
    var getCachedPrivateConversationIdFromUserId = function(userId) {
        return Object.keys(stateCache).reduce(function(carry, id) {
            if (!carry) {
                var state = stateCache[id].state;

                if (state.type != CONVERSATION_TYPES.PUBLIC) {
                    if (userId in state.members) {
                        // We've found a cached conversation for this user!
                        carry = state.id;
                    }
                }
            }

            return carry;
        }, null);
    };

    /**
     * Get profile info for logged in user.
     *
     * @param {Object} body Conversation body container element.
     * @return {Object}
     */
    var getLoggedInUserProfile = function(body) {
        return {
            id: parseInt(body.attr('data-user-id'), 10),
            fullname: null,
            profileimageurl: null,
            profileimageurlsmall: null,
            isonline:  null,
            showonlinestatus: null,
            isblocked: null,
            iscontact: null,
            isdeleted: null,
            canmessage: null,
            canmessageevenifblocked: null,
            requirescontact: null,
            contactrequests: []
        };
    };

    /**
     * Get the messages offset value to load more messages.
     *
     * @return {Number}
     */
    var getMessagesOffset = function() {
        return messagesOffset;
    };

    /**
     * Set the messages offset value for loading more messages.
     *
     * @param {Number} value The offset value
     */
    var setMessagesOffset = function(value) {
        messagesOffset = value;
        stateCache[viewState.id].messagesOffset = value;
    };

    /**
     * Check if all messages have been loaded.
     *
     * @return {Bool}
     */
    var hasLoadedAllMessages = function() {
        return loadedAllMessages;
    };

    /**
     * Set whether all messages have been loaded or not.
     *
     * @param {Bool} value If all messages have been loaded.
     */
    var setLoadedAllMessages = function(value) {
        loadedAllMessages = value;
        stateCache[viewState.id].loadedAllMessages = value;
    };

    /**
     * Get the messages container element.
     *
     * @param  {Object} body Conversation body container element.
     * @return {Object} The messages container element.
     */
    var getMessagesContainer = function(body) {
        return body.find(SELECTORS.MESSAGES_CONTAINER);
    };

    /**
     * Reformat the conversation for an event payload.
     *
     * @param  {Object} state The view state.
     * @return {Object} New formatted conversation.
     */
    var formatConversationForEvent = function(state) {
        return {
            id: state.id,
            name: state.name,
            subname: state.subname,
            imageUrl: state.imageUrl,
            isFavourite: state.isFavourite,
            isMuted: state.isMuted,
            type: state.type,
            totalMemberCount: state.totalMemberCount,
            loggedInUserId: state.loggedInUserId,
            messages: state.messages.map(function(message) {
                return $.extend({}, message);
            }),
            members: Object.keys(state.members).map(function(id) {
                var formattedMember = $.extend({}, state.members[id]);
                formattedMember.contactrequests = state.members[id].contactrequests.map(function(request) {
                    return $.extend({}, request);
                });
                return formattedMember;
            })
        };
    };

    /**
     * Load up an empty private conversation between the logged in user and the
     * other user. Sets all of the conversation details based on the other user.
     *
     * A conversation isn't created until the user sends the first message.
     *
     * @param  {Object} loggedInUserProfile The logged in user profile.
     * @param  {Number} otherUserId The other user id.
     * @return {Object} Profile returned from repository.
     */
    var loadEmptyPrivateConversation = function(loggedInUserProfile, otherUserId) {
        var loggedInUserId = loggedInUserProfile.id;
        // If the other user id is the same as the logged in user then this is a self
        // conversation.
        var conversationType = loggedInUserId == otherUserId ? CONVERSATION_TYPES.SELF : CONVERSATION_TYPES.PRIVATE;
        var newState = StateManager.setLoadingMembers(viewState, true);
        newState = StateManager.setLoadingMessages(newState, true);
        render(newState);

        return Repository.getMemberInfo(loggedInUserId, [otherUserId], true, true)
            .then(function(profiles) {
                if (profiles.length) {
                    return profiles[0];
                } else {
                    throw new Error('Unable to load other user profile');
                }
            })
            .then(function(profile) {
                // If the conversation is a self conversation then the profile loaded is the
                // logged in user so only add that to the members array.
                var members = conversationType == CONVERSATION_TYPES.SELF ? [profile] : [profile, loggedInUserProfile];
                var newState = StateManager.addMembers(viewState, members);
                newState = StateManager.setLoadingMembers(newState, false);
                newState = StateManager.setLoadingMessages(newState, false);
                newState = StateManager.setName(newState, profile.fullname);
                newState = StateManager.setType(newState, conversationType);
                newState = StateManager.setImageUrl(newState, profile.profileimageurl);
                newState = StateManager.setTotalMemberCount(newState, members.length);
                render(newState);
                return profile;
            })
            .catch(function(error) {
                var newState = StateManager.setLoadingMembers(viewState, false);
                render(newState);
                Notification.exception(error);
            });
    };

    /**
     * Create a new state from a conversation object.
     *
     * @param {Object} conversation The conversation object.
     * @param {Number} loggedInUserId The logged in user id.
     * @return {Object} new state.
     */
    var updateStateFromConversation = function(conversation, loggedInUserId) {
        var otherUser = null;
        if (conversation.type == CONVERSATION_TYPES.PRIVATE) {
            // For private conversations, remove current logged in user from the members list to get the other user.
            var otherUsers = conversation.members.filter(function(member) {
                return member.id != loggedInUserId;
            });
            otherUser = otherUsers.length ? otherUsers[0] : null;
        } else if (conversation.type == CONVERSATION_TYPES.SELF) {
            // Self-conversations have only one member.
            otherUser = conversation.members[0];
        }

        var name = conversation.name;
        var imageUrl = conversation.imageurl;

        if (conversation.type != CONVERSATION_TYPES.PUBLIC) {
            name = name || otherUser ? otherUser.fullname : '';
            imageUrl = imageUrl || otherUser ? otherUser.profileimageurl : '';
        }

        var newState = StateManager.addMembers(viewState, conversation.members);
        newState = StateManager.setName(newState, name);
        newState = StateManager.setSubname(newState, conversation.subname);
        newState = StateManager.setType(newState, conversation.type);
        newState = StateManager.setImageUrl(newState, imageUrl);
        newState = StateManager.setTotalMemberCount(newState, conversation.membercount);
        newState = StateManager.setIsFavourite(newState, conversation.isfavourite);
        newState = StateManager.setIsMuted(newState, conversation.ismuted);
        newState = StateManager.addMessages(newState, conversation.messages);
        newState = StateManager.setCanDeleteMessagesForAllUsers(newState, conversation.candeletemessagesforallusers);
        return newState;
    };

    /**
     * Get the details for a conversation from the conversation id.
     *
     * @param  {Number} conversationId The conversation id.
     * @param  {Object} loggedInUserProfile The logged in user profile.
     * @param  {Number} messageLimit The number of messages to include.
     * @param  {Number} messageOffset The number of messages to skip.
     * @param  {Bool} newestFirst Order messages newest first.
     * @return {Object} Promise resolved when loaded.
     */
    var loadNewConversation = function(
        conversationId,
        loggedInUserProfile,
        messageLimit,
        messageOffset,
        newestFirst
    ) {
        var loggedInUserId = loggedInUserProfile.id;
        var newState = StateManager.setLoadingMembers(viewState, true);
        newState = StateManager.setLoadingMessages(newState, true);
        render(newState);

        return Repository.getConversation(
            loggedInUserId,
            conversationId,
            true,
            true,
            0,
            0,
            messageLimit + 1,
            messageOffset,
            newestFirst
        )
            .then(function(conversation) {
                if (conversation.messages.length > messageLimit) {
                    conversation.messages = conversation.messages.slice(1);
                } else {
                    setLoadedAllMessages(true);
                }

                setMessagesOffset(messageOffset + messageLimit);

                return conversation;
            })
            .then(function(conversation) {
                var hasLoggedInUser = conversation.members.filter(function(member) {
                    return member.id == loggedInUserProfile.id;
                });

                if (hasLoggedInUser.length &lt; 1) {
                    conversation.members = conversation.members.concat([loggedInUserProfile]);
                }

                var newState = updateStateFromConversation(conversation, loggedInUserProfile.id);
                newState = StateManager.setLoadingMembers(newState, false);
                newState = StateManager.setLoadingMessages(newState, false);
                return render(newState)
                    .then(function() {
                        return conversation;
                    });
            })
            .then(function() {
                return markConversationAsRead(conversationId);
            })
            .catch(function(error) {
                var newState = StateManager.setLoadingMembers(viewState, false);
                newState = StateManager.setLoadingMessages(newState, false);
                render(newState);
                Notification.exception(error);
            });
    };

    /**
     * Get the details for a conversation from and existing conversation object.
     *
     * @param  {Object} conversation The conversation object.
     * @param  {Object} loggedInUserProfile The logged in user profile.
     * @param  {Number} messageLimit The number of messages to include.
     * @param  {Bool} newestFirst Order messages newest first.
     * @return {Object} Promise resolved when loaded.
     */
    var loadExistingConversation = function(
        conversation,
        loggedInUserProfile,
        messageLimit,
        newestFirst
    ) {
        var hasLoggedInUser = conversation.members.filter(function(member) {
            return member.id == loggedInUserProfile.id;
        });

        if (hasLoggedInUser.length &lt; 1) {
            conversation.members = conversation.members.concat([loggedInUserProfile]);
        }

        var messageCount = conversation.messages.length;
        var hasLoadedEnoughMessages = messageCount >= messageLimit;
        var newState = updateStateFromConversation(conversation, loggedInUserProfile.id);
        newState = StateManager.setLoadingMembers(newState, false);
        newState = StateManager.setLoadingMessages(newState, !hasLoadedEnoughMessages);
        var renderPromise = render(newState);

        return renderPromise.then(function() {
                if (!hasLoadedEnoughMessages) {
                    // We haven't got enough messages so let's load some more.
                    return loadMessages(conversation.id, messageLimit, messageCount, newestFirst, []);
                } else {
                    // We've got enough messages. No need to load any more for now.
                    return {messages: conversation.messages};
                }
            })
            .then(function() {
                var messages = viewState.messages;
                // Update the offset to reflect the number of messages we've loaded.
                setMessagesOffset(messages.length);
                markConversationAsRead(viewState.id);

                return messages;
            })
            .catch(Notification.exception);
    };

    /**
     * Load messages for this conversation and pass them to the renderer.
     *
     * @param  {Number} conversationId Conversation id.
     * @param  {Number} limit Number of messages to load.
     * @param  {Number} offset Get messages from offset.
     * @param  {Bool} newestFirst Get newest messages first.
     * @param  {Array} ignoreList Ignore any messages with ids in this list.
     * @param  {Number|null} timeFrom Only get messages from this time onwards.
     * @return {Promise} renderer promise.
     */
    var loadMessages = function(conversationId, limit, offset, newestFirst, ignoreList, timeFrom) {
        return Repository.getMessages(
                viewState.loggedInUserId,
                conversationId,
                limit ? limit + 1 : limit,
                offset,
                newestFirst,
                timeFrom
            )
            .then(function(result) {
                // Prevent older requests from contaminating the current view.
                if (result.id != viewState.id) {
                    result.messages = [];
                    // Purge old conversation cache to prevent messages lose.
                    if (result.id in stateCache) {
                        delete stateCache[result.id];
                    }
                }

                return result;
            })
            .then(function(result) {
                if (result.messages.length &amp;&amp; ignoreList.length) {
                    result.messages = result.messages.filter(function(message) {
                        // Skip any messages in our ignore list.
                        return ignoreList.indexOf(parseInt(message.id, 10)) &lt; 0;
                    });
                }

                return result;
            })
            .then(function(result) {
                if (!limit) {
                    return result;
                } else if (result.messages.length > limit) {
                    // Ignore the last result which was just to test if there are more
                    // to load.
                    result.messages = result.messages.slice(0, -1);
                } else {
                    setLoadedAllMessages(true);
                }

                return result;
            })
            .then(function(result) {
                var membersToAdd = result.members.filter(function(member) {
                    return !(member.id in viewState.members);
                });
                var newState = StateManager.addMembers(viewState, membersToAdd);
                newState = StateManager.addMessages(newState, result.messages);
                newState = StateManager.setLoadingMessages(newState, false);
                return render(newState)
                    .then(function() {
                        return result;
                    });
            })
            .catch(function(error) {
                var newState = StateManager.setLoadingMessages(viewState, false);
                render(newState);
                // Re-throw the error for other error handlers.
                throw error;
            });
    };

    /**
     * Create a callback function for getting new messages for this conversation.
     *
     * @param  {Number} conversationId Conversation id.
     * @param  {Bool} newestFirst Show newest messages first
     * @return {Function} Callback function that returns a renderer promise.
     */
    var getLoadNewMessagesCallback = function(conversationId, newestFirst) {
        return function() {
            var messages = viewState.messages;
            var mostRecentMessage = messages.length ? messages[messages.length - 1] : null;
            var lastTimeCreated = mostRecentMessage ? mostRecentMessage.timeCreated : null;

            if (lastTimeCreated &amp;&amp; !isResetting &amp;&amp; !isSendingMessage &amp;&amp; !isDeletingConversationContent) {
                // There may be multiple messages with the same time created value since
                // the accuracy is only down to the second. The server will include these
                // messages in the result (since it does a >= comparison on time from) so
                // we need to filter them back out of the result so that we're left only
                // with the new messages.
                var ignoreMessageIds = [];
                for (var i = messages.length - 1; i >= 0; i--) {
                    var message = messages[i];
                    if (message.timeCreated === lastTimeCreated) {
                        ignoreMessageIds.push(message.id);
                    } else {
                        // Since the messages are ordered in ascending order of time created
                        // we can break as soon as we hit a message with a different time created
                        // because we know all other messages will have lower values.
                        break;
                    }
                }

                return loadMessages(
                        conversationId,
                        0,
                        0,
                        newestFirst,
                        ignoreMessageIds,
                        lastTimeCreated
                    )
                    .then(function(result) {
                        if (result.messages.length) {
                            // If we found some results then restart the polling timer
                            // because the other user might be sending messages.
                            newMessagesPollTimer.restart();
                            // We've also got a new last message so publish that for other
                            // components to update.
                            var conversation = formatConversationForEvent(viewState);
                            PubSub.publish(MessageDrawerEvents.CONVERSATION_NEW_LAST_MESSAGE, conversation);
                            return markConversationAsRead(conversationId);
                        } else {
                            return result;
                        }
                    });
            }

            return $.Deferred().resolve().promise();
        };
    };

    /**
     * Mark a conversation as read.
     *
     * @param  {Number} conversationId The conversation id.
     * @return {Promise} The renderer promise.
     */
    var markConversationAsRead = function(conversationId) {
        var loggedInUserId = viewState.loggedInUserId;
        var pendingPromise = new Pending('core_message/message_drawer_view_conversation:markConversationAsRead');

        return Repository.markAllConversationMessagesAsRead(loggedInUserId, conversationId)
            .then(function() {
                var newState = StateManager.markMessagesAsRead(viewState, viewState.messages);
                PubSub.publish(MessageDrawerEvents.CONVERSATION_READ, conversationId);
                return render(newState);
            })
            .then(function(result) {
                pendingPromise.resolve();

                return result;
            });
    };

    /**
     * Tell the statemanager there is request to block a user and run the renderer
     * to show the block user dialogue.
     *
     * @param {Number} userId User id.
     */
    var requestBlockUser = function(userId) {
        cancelRequest(userId);
        var newState = StateManager.addPendingBlockUsersById(viewState, [userId]);
        render(newState);
    };

    /**
     * Send the repository a request to block a user, update the statemanager and publish
     * a contact has been blocked.
     *
     * @param  {Number} userId User id of user to block.
     * @return {Promise} Renderer promise.
     */
    var blockUser = function(userId) {
        var newState = StateManager.setLoadingConfirmAction(viewState, true);
        var pendingPromise = new Pending('core_message/message_drawer_view_conversation:blockUser');

        render(newState);

        return Repository.blockUser(viewState.loggedInUserId, userId)
            .then(function(profile) {
                var newState = StateManager.addMembers(viewState, [profile]);
                newState = StateManager.removePendingBlockUsersById(newState, [userId]);
                newState = StateManager.setLoadingConfirmAction(newState, false);
                PubSub.publish(MessageDrawerEvents.CONTACT_BLOCKED, userId);
                return render(newState);
            })
            .then(function(result) {
                pendingPromise.resolve();

                return result;
            });
    };

    /**
     * Tell the statemanager there is a request to unblock a user and run the renderer
     * to show the unblock user dialogue.
     *
     * @param {Number} userId User id of user to unblock.
     */
    var requestUnblockUser = function(userId) {
        cancelRequest(userId);
        var newState = StateManager.addPendingUnblockUsersById(viewState, [userId]);
        render(newState);
    };

    /**
     * Send the repository a request to unblock a user, update the statemanager and publish
     * a contact has been unblocked.
     *
     * @param  {Number} userId User id of user to unblock.
     * @return {Promise} Renderer promise.
     */
    var unblockUser = function(userId) {
        var newState = StateManager.setLoadingConfirmAction(viewState, true);
        var pendingPromise = new Pending('core_message/message_drawer_view_conversation:unblockUser');
        render(newState);

        return Repository.unblockUser(viewState.loggedInUserId, userId)
            .then(function(profile) {
                var newState = StateManager.addMembers(viewState, [profile]);
                newState = StateManager.removePendingUnblockUsersById(newState, [userId]);
                newState = StateManager.setLoadingConfirmAction(newState, false);
                PubSub.publish(MessageDrawerEvents.CONTACT_UNBLOCKED, userId);
                return render(newState);
            })
            .then(function(result) {
                pendingPromise.resolve();

                return result;
            });
    };

    /**
     * Tell the statemanager there is a request to remove a user from the contact list
     * and run the renderer to show the remove user from contacts dialogue.
     *
     * @param {Number} userId User id of user to remove from contacts.
     */
    var requestRemoveContact = function(userId) {
        cancelRequest(userId);
        var newState = StateManager.addPendingRemoveContactsById(viewState, [userId]);
        render(newState);
    };

    /**
     * Send the repository a request to remove a user from the contacts list. update the statemanager
     * and publish a contact has been removed.
     *
     * @param  {Number} userId User id of user to remove from contacts.
     * @return {Promise} Renderer promise.
     */
    var removeContact = function(userId) {
        var newState = StateManager.setLoadingConfirmAction(viewState, true);
        var pendingPromise = new Pending('core_message/message_drawer_view_conversation:removeContact');
        render(newState);

        return Repository.deleteContacts(viewState.loggedInUserId, [userId])
            .then(function(profiles) {
                var newState = StateManager.addMembers(viewState, profiles);
                newState = StateManager.removePendingRemoveContactsById(newState, [userId]);
                newState = StateManager.setLoadingConfirmAction(newState, false);
                PubSub.publish(MessageDrawerEvents.CONTACT_REMOVED, userId);
                return render(newState);
            })
            .then(function(result) {
                pendingPromise.resolve();

                return result;
            });
    };

    /**
     * Tell the statemanager there is a request to add a user to the contact list
     * and run the renderer to show the add user to contacts dialogue.
     *
     * @param {Number} userId User id of user to add to contacts.
     */
    var requestAddContact = function(userId) {
        cancelRequest(userId);
        var newState = StateManager.addPendingAddContactsById(viewState, [userId]);
        render(newState);
    };

    /**
     * Send the repository a request to add a user to the contacts list. update the statemanager
     * and publish a contact has been added.
     *
     * @param  {Number} userId User id of user to add to contacts.
     * @return {Promise} Renderer promise.
     */
    var addContact = function(userId) {
        var newState = StateManager.setLoadingConfirmAction(viewState, true);
        var pendingPromise = new Pending('core_message/message_drawer_view_conversation:addContactRequests');
        render(newState);

        return Repository.createContactRequest(viewState.loggedInUserId, userId)
            .then(function(response) {
                if (!response.request) {
                    throw new Error(response.warnings[0].message);
                }

                return response.request;
            })
            .then(function(request) {
                var newState = StateManager.removePendingAddContactsById(viewState, [userId]);
                newState = StateManager.addContactRequests(newState, [request]);
                newState = StateManager.setLoadingConfirmAction(newState, false);
                return render(newState);
            })
            .then(function(result) {
                pendingPromise.resolve();

                return result;
            });
    };

    /**
     * Set the current conversation as a favourite conversation.
     *
     * @return {Promise} Renderer promise.
     */
    var setFavourite = function() {
        var userId = viewState.loggedInUserId;
        var conversationId = viewState.id;
        var pendingPromise = new Pending('core_message/message_drawer_view_conversation:setFavourite');

        return Repository.setFavouriteConversations(userId, [conversationId])
            .then(function() {
                var newState = StateManager.setIsFavourite(viewState, true);
                return render(newState);
            })
            .then(function() {
                return PubSub.publish(
                    MessageDrawerEvents.CONVERSATION_SET_FAVOURITE,
                    formatConversationForEvent(viewState)
                );
            })
            .then(function(result) {
                pendingPromise.resolve();

                return result;
            });
    };

    /**
     * Unset the current conversation as a favourite conversation.
     *
     * @return {Promise} Renderer promise.
     */
    var unsetFavourite = function() {
        var userId = viewState.loggedInUserId;
        var conversationId = viewState.id;
        var pendingPromise = new Pending('core_message/message_drawer_view_conversation:unsetFavourite');

        return Repository.unsetFavouriteConversations(userId, [conversationId])
            .then(function() {
                var newState = StateManager.setIsFavourite(viewState, false);
                return render(newState);
            })
            .then(function() {
                return PubSub.publish(
                    MessageDrawerEvents.CONVERSATION_UNSET_FAVOURITE,
                    formatConversationForEvent(viewState)
                );
            })
            .then(function(result) {
                pendingPromise.resolve();

                return result;
            });
    };

    /**
     * Set the current conversation as a muted conversation.
     *
     * @return {Promise} Renderer promise.
     */
    var setMuted = function() {
        var userId = viewState.loggedInUserId;
        var conversationId = viewState.id;
        var pendingPromise = new Pending('core_message/message_drawer_view_conversation:markConversationAsRead');

        return Repository.setMutedConversations(userId, [conversationId])
            .then(function() {
                var newState = StateManager.setIsMuted(viewState, true);
                return render(newState);
            })
            .then(function() {
                return PubSub.publish(
                    MessageDrawerEvents.CONVERSATION_SET_MUTED,
                    formatConversationForEvent(viewState)
                );
            })
            .then(function(result) {
                pendingPromise.resolve();

                return result;
            });
    };

    /**
     * Unset the current conversation as a muted conversation.
     *
     * @return {Promise} Renderer promise.
     */
    var unsetMuted = function() {
        var userId = viewState.loggedInUserId;
        var conversationId = viewState.id;

        return Repository.unsetMutedConversations(userId, [conversationId])
            .then(function() {
                var newState = StateManager.setIsMuted(viewState, false);
                return render(newState);
            })
            .then(function() {
                return PubSub.publish(
                    MessageDrawerEvents.CONVERSATION_UNSET_MUTED,
                    formatConversationForEvent(viewState)
                );
            });
    };

    /**
     * Tell the statemanager there is a request to delete the selected messages
     * and run the renderer to show confirm delete messages dialogue.
     *
     * @param {Number} userId User id.
     */
    var requestDeleteSelectedMessages = function(userId) {
        var selectedMessageIds = viewState.selectedMessageIds;
        cancelRequest(userId);
        var newState = StateManager.addPendingDeleteMessagesById(viewState, selectedMessageIds);
        render(newState);
    };

    /**
     * Send the repository a request to delete the messages pending deletion. Update the statemanager
     * and publish a message deletion event.
     *
     * @return {Promise} Renderer promise.
     */
    var deleteSelectedMessages = function() {
        var pendingPromise = new Pending('core_message/message_drawer_view_conversation:deleteSelectedMessages');
        var messageIds = viewState.pendingDeleteMessageIds;
        var sentMessages = viewState.messages.filter(function(message) {
            // If a message sendState is null then it means it was loaded from the server or if it's
            // set to sent then it means the user has successfully sent it in this page load.
            return messageIds.indexOf(message.id) >= 0 &amp;&amp; (message.sendState == 'sent' || message.sendState === null);
        });
        var newState = StateManager.setLoadingConfirmAction(viewState, true);

        render(newState);

        var deleteMessagesPromise = $.Deferred().resolve().promise();


        if (sentMessages.length) {
            // We only need to send a request to the server if we're trying to delete messages that
            // have successfully been sent.
            var sentMessageIds = sentMessages.map(function(message) {
                return message.id;
            });
            if (newState.deleteMessagesForAllUsers) {
                deleteMessagesPromise = Repository.deleteMessagesForAllUsers(viewState.loggedInUserId, sentMessageIds);
            } else {
                deleteMessagesPromise = Repository.deleteMessages(viewState.loggedInUserId, sentMessageIds);
            }
        }

        // Mark that we are deleting content from the  conversation to prevent updates of it.
        isDeletingConversationContent = true;

        // Stop polling for new messages to the open conversation.
        if (newMessagesPollTimer) {
            newMessagesPollTimer.stop();
        }

        return deleteMessagesPromise.then(function() {
                var newState = StateManager.removeMessagesById(viewState, messageIds);
                newState = StateManager.removePendingDeleteMessagesById(newState, messageIds);
                newState = StateManager.removeSelectedMessagesById(newState, messageIds);
                newState = StateManager.setLoadingConfirmAction(newState, false);
                newState = StateManager.setDeleteMessagesForAllUsers(newState, false);

                var prevLastMessage = viewState.messages[viewState.messages.length - 1];
                var newLastMessage = newState.messages.length ? newState.messages[newState.messages.length - 1] : null;

                if (newLastMessage &amp;&amp; newLastMessage.id != prevLastMessage.id) {
                    var conversation = formatConversationForEvent(newState);
                    PubSub.publish(MessageDrawerEvents.CONVERSATION_NEW_LAST_MESSAGE, conversation);
                } else if (!newState.messages.length) {
                    PubSub.publish(MessageDrawerEvents.CONVERSATION_DELETED, newState.id);
                }

                isDeletingConversationContent = false;
                return render(newState);
            })
            .then(function(result) {
                pendingPromise.resolve();

                return result;
            })
            .catch(Notification.exception);
    };

    /**
     * Tell the statemanager there is a request to delete a conversation
     * and run the renderer to show confirm delete conversation dialogue.
     *
     * @param {Number} userId User id of other user.
     */
    var requestDeleteConversation = function(userId) {
        cancelRequest(userId);
        var newState = StateManager.setPendingDeleteConversation(viewState, true);
        render(newState);
    };

    /**
     * Send the repository a request to delete a conversation. Update the statemanager
     * and publish a conversation deleted event.
     *
     * @return {Promise} Renderer promise.
     */
    var deleteConversation = function() {
        var pendingPromise = new Pending('core_message/message_drawer_view_conversation:markConversationAsRead');
        var newState = StateManager.setLoadingConfirmAction(viewState, true);
        render(newState);

        // Mark that we are deleting the conversation to prevent updates of it.
        isDeletingConversationContent = true;

        // Stop polling for new messages to the open conversation.
        if (newMessagesPollTimer) {
            newMessagesPollTimer.stop();
        }

        return Repository.deleteConversation(viewState.loggedInUserId, viewState.id)
            .then(function() {
                var newState = StateManager.removeMessages(viewState, viewState.messages);
                newState = StateManager.removeSelectedMessagesById(newState, viewState.selectedMessageIds);
                newState = StateManager.setPendingDeleteConversation(newState, false);
                newState = StateManager.setLoadingConfirmAction(newState, false);
                PubSub.publish(MessageDrawerEvents.CONVERSATION_DELETED, newState.id);

                isDeletingConversationContent = false;

                return render(newState);
            })
            .then(function(result) {
                pendingPromise.resolve();

                return result;
            });
    };

    /**
     * Tell the statemanager to cancel all pending actions.
     *
     * @param  {Number} userId User id.
     */
    var cancelRequest = function(userId) {
        var pendingDeleteMessageIds = viewState.pendingDeleteMessageIds;
        var newState = StateManager.removePendingAddContactsById(viewState, [userId]);
        newState = StateManager.removePendingRemoveContactsById(newState, [userId]);
        newState = StateManager.removePendingUnblockUsersById(newState, [userId]);
        newState = StateManager.removePendingBlockUsersById(newState, [userId]);
        newState = StateManager.removePendingDeleteMessagesById(newState, pendingDeleteMessageIds);
        newState = StateManager.setPendingDeleteConversation(newState, false);
        newState = StateManager.setDeleteMessagesForAllUsers(newState, false);
        render(newState);
    };

    /**
     * Accept the contact request from the given user.
     *
     * @param  {Number} userId User id of other user.
     * @return {Promise} Renderer promise.
     */
    var acceptContactRequest = function(userId) {
        var pendingPromise = new Pending('core_message/message_drawer_view_conversation:acceptContactRequest');

        // Search the list of the logged in user's contact requests to find the
        // one from this user.
        var loggedInUserId = viewState.loggedInUserId;
        var requests = viewState.members[userId].contactrequests.filter(function(request) {
            return request.requesteduserid == loggedInUserId;
        });
        var request = requests[0];
        var newState = StateManager.setLoadingConfirmAction(viewState, true);
        render(newState);

        return Repository.acceptContactRequest(userId, loggedInUserId)
            .then(function(profile) {
                var newState = StateManager.removeContactRequests(viewState, [request]);
                newState = StateManager.addMembers(viewState, [profile]);
                newState = StateManager.setLoadingConfirmAction(newState, false);
                return render(newState);
            })
            .then(function() {
                PubSub.publish(MessageDrawerEvents.CONTACT_ADDED, viewState.members[userId]);
                PubSub.publish(MessageDrawerEvents.CONTACT_REQUEST_ACCEPTED, request);
                return;
            })
            .then(function(result) {
                pendingPromise.resolve();

                return result;
            });
    };

    /**
     * Decline the contact request from the given user.
     *
     * @param  {Number} userId User id of other user.
     * @return {Promise} Renderer promise.
     */
    var declineContactRequest = function(userId) {
        var pendingPromise = new Pending('core_message/message_drawer_view_conversation:declineContactRequest');

        // Search the list of the logged in user's contact requests to find the
        // one from this user.
        var loggedInUserId = viewState.loggedInUserId;
        var requests = viewState.members[userId].contactrequests.filter(function(request) {
            return request.requesteduserid == loggedInUserId;
        });
        var request = requests[0];
        var newState = StateManager.setLoadingConfirmAction(viewState, true);
        render(newState);

        return Repository.declineContactRequest(userId, loggedInUserId)
            .then(function(profile) {
                var newState = StateManager.removeContactRequests(viewState, [request]);
                newState = StateManager.addMembers(viewState, [profile]);
                newState = StateManager.setLoadingConfirmAction(newState, false);
                return render(newState);
            })
            .then(function() {
                PubSub.publish(MessageDrawerEvents.CONTACT_REQUEST_DECLINED, request);
                return;
            })
            .then(function(result) {
                pendingPromise.resolve();

                return result;
            });
    };

    /**
     * Send all of the messages in the buffer to the server to be created. Update the
     * UI with the newly created message information.
     *
     * This function will recursively call itself in order to make sure the buffer is
     * always being processed.
     */
    var processSendMessageBuffer = function() {
        if (isSendingMessage) {
            // We're already sending messages so nothing to do.
            return;
        }
        if (!sendMessageBuffer.length) {
            // No messages waiting to send. Nothing to do.
            return;
        }

        var pendingPromise = new Pending('core_message/message_drawer_view_conversation:processSendMessageBuffer');

        // Flag that we're processing the queue.
        isSendingMessage = true;
        // Grab all of the messages in the buffer.
        var messagesToSend = sendMessageBuffer.slice();
        // Empty the buffer since we're processing it.
        sendMessageBuffer = [];
        var conversationId = viewState.id;
        var newConversationId = null;
        var messagesText = messagesToSend.map(function(message) {
            return message.text;
        });
        var messageIds = messagesToSend.map(function(message) {
            return message.id;
        });
        var sendMessagePromise = null;
        var newCanDeleteMessagesForAllUsers = null;
        if (!conversationId &amp;&amp; (viewState.type != CONVERSATION_TYPES.PUBLIC)) {
            // If it's a new private conversation then we need to use the old
            // web service function to create the conversation.
            var otherUserId = getOtherUserId();
            sendMessagePromise = Repository.sendMessagesToUser(otherUserId, messagesText)
                .then(function(messages) {
                    if (messages.length) {
                        newConversationId = parseInt(messages[0].conversationid, 10);
                        newCanDeleteMessagesForAllUsers = messages[0].candeletemessagesforallusers;
                    }
                    return messages;
                });
        } else {
            sendMessagePromise = Repository.sendMessagesToConversation(conversationId, messagesText);
        }

        sendMessagePromise
            .then(function(messages) {
                var newMessageIds = messages.map(function(message) {
                    return message.id;
                });
                var data = [];
                var selectedToRemove = [];
                var selectedToAdd = [];

                messagesToSend.forEach(function(oldMessage, index) {
                    var newMessage = messages[index];
                    // Update messages expects and array of arrays where the first value
                    // is the old message to update and the second value is the new values
                    // to set.
                    data.push([oldMessage, newMessage]);

                    if (viewState.selectedMessageIds.indexOf(oldMessage.id) >= 0) {
                        // If the message was added to the "selected messages" list while it was still
                        // being sent then we should update it's id in that list now to make sure future
                        // actions work.
                        selectedToRemove.push(oldMessage.id);
                        selectedToAdd.push(newMessage.id);
                    }
                });
                var newState = StateManager.updateMessages(viewState, data);
                newState = StateManager.setMessagesSendSuccessById(newState, newMessageIds);

                if (selectedToRemove.length) {
                    newState = StateManager.removeSelectedMessagesById(newState, selectedToRemove);
                }

                if (selectedToAdd.length) {
                    newState = StateManager.addSelectedMessagesById(newState, selectedToAdd);
                }

                var conversation = formatConversationForEvent(newState);

                if (!newState.id) {
                    // If this message created the conversation then save the conversation
                    // id.
                    newState = StateManager.setId(newState, newConversationId);
                    conversation.id = newConversationId;
                    resetMessagePollTimer(newConversationId);
                    PubSub.publish(MessageDrawerEvents.CONVERSATION_CREATED, conversation);
                    newState = StateManager.setCanDeleteMessagesForAllUsers(newState, newCanDeleteMessagesForAllUsers);
                }

                // Update the UI with the new message values from the server.
                render(newState);
                // Recurse just in case there has been more messages added to the buffer.
                isSendingMessage = false;
                processSendMessageBuffer();
                PubSub.publish(MessageDrawerEvents.CONVERSATION_NEW_LAST_MESSAGE, conversation);
                return;
            })
            .then(function(result) {
                pendingPromise.resolve();

                return result;
            })
            .catch(function(e) {
                var errorMessage;
                if (e.message) {
                    errorMessage = $.Deferred().resolve(e.message).promise();
                } else {
                    errorMessage = Str.get_string('unknownerror', 'core');
                }

                var handleFailedMessages = function(errorMessage) {
                    // We failed to create messages so remove the old messages from the pending queue
                    // and update the UI to indicate that the message failed.
                    var newState = StateManager.setMessagesSendFailById(viewState, messageIds, errorMessage);
                    render(newState);
                    isSendingMessage = false;
                    processSendMessageBuffer();
                };

                errorMessage.then(handleFailedMessages)
                    .then(function(result) {
                        pendingPromise.resolve();

                        return result;
                    })
                    .catch(function(e) {
                        // Hrmm, we can't even load the error messages string! We'll have to
                        // hard code something in English here if we still haven't got a message
                        // to show.
                        var finalError = e.message || 'Something went wrong!';
                        handleFailedMessages(finalError);
                    });
            });
    };

    /**
     * Create a plain version of an HTML text.
     *
     * This texts is used as a message preview while is sent to the server. This way
     * it is possible to prevent self-xss.
     *
     * @param {String} text Text to send.
     * @return {String} The plain text version of the text.
     */
    const previewText = function(text) {
        // Remove all script and styles from text (we don't want it there).
        let plaintext = text.replace(/&lt;style([\s\S]*?)&lt;\/style>/gi, '');
        plaintext = plaintext.replace(/&lt;script([\s\S]*?)&lt;\/script>/gi, '');
        // Beautify a bit the output adding some line breaks.
        plaintext = plaintext.replace(/&lt;\/div>/ig, '\n');
        plaintext = plaintext.replace(/&lt;\/li>/ig, '\n');
        plaintext = plaintext.replace(/&lt;li>/ig, '  *  ');
        plaintext = plaintext.replace(/&lt;\/ul>/ig, '\n');
        plaintext = plaintext.replace(/&lt;\/p>/ig, '\n');
        plaintext = plaintext.replace(/&lt;br[^>]*>/gi, '\n');
        // Remove all remaining tags and convert line breaks into html.
        plaintext = plaintext.replace(/&lt;[^>]+>/ig, '');
        plaintext = plaintext.replace(/\n+/ig, '\n');
        return plaintext.replace(/\n/ig, '&lt;br>');
    };

    /**
     * Buffers messages to be sent to the server. We use a buffer here to allow the
     * user to freely input messages without blocking the interface for them.
     *
     * Instead we just queue all of their messages up and send them as fast as we can.
     *
     * @param {String} text Text to send.
     */
    var sendMessage = function(text) {
        var id = 'temp' + Date.now();
        // Render a preview version of the message while sending.
        let loadingmessage = {
            id: id,
            useridfrom: viewState.loggedInUserId,
            text:  previewText(text),
            timecreated: null
        };
        var newState = StateManager.addMessages(viewState, [loadingmessage]);
        render(newState);
        // Send the real message.
        var message = {
            id: id,
            useridfrom: viewState.loggedInUserId,
            text: text,
            timecreated: null
        };
        sendMessageBuffer.push(message);
        processSendMessageBuffer();
    };

    /**
     * Retry sending a message that failed.
     *
     * @param {Object} message The message to send.
     */
    var retrySendMessage = function(message) {
        var newState = StateManager.setMessagesSendPendingById(viewState, [message.id]);
        render(newState);
        sendMessageBuffer.push(message);
        processSendMessageBuffer();
    };

    /**
     * Toggle the selected messages update the statemanager and render the result.
     *
     * @param  {Number} messageId The id of the message to be toggled
     */
    var toggleSelectMessage = function(messageId) {
        var newState = viewState;

        if (viewState.selectedMessageIds.indexOf(messageId) > -1) {
            newState = StateManager.removeSelectedMessagesById(viewState, [messageId]);
        } else {
            newState = StateManager.addSelectedMessagesById(viewState, [messageId]);
        }

        render(newState);
    };

    /**
     * Cancel edit mode (selecting the messages).
     */
    var cancelEditMode = function() {
        cancelRequest(getOtherUserId());
        var newState = StateManager.removeSelectedMessagesById(viewState, viewState.selectedMessageIds);
        render(newState);
    };

    /**
     * Process the patches in the render buffer one at a time in order until the
     * buffer is empty.
     *
     * @param {Object} header The conversation header container element.
     * @param {Object} body The conversation body container element.
     * @param {Object} footer The conversation footer container element.
     */
    var processRenderBuffer = function(header, body, footer) {
        if (isRendering) {
            return;
        }

        if (!renderBuffer.length) {
            return;
        }

        isRendering = true;
        var renderable = renderBuffer.shift();
        var renderPromises = renderers.map(function(renderFunc) {
            return renderFunc(renderable.patch);
        });

        $.when.apply(null, renderPromises)
            .then(function() {
                isRendering = false;
                renderable.deferred.resolve(true);
                // Keep processing the buffer until it's empty.
                processRenderBuffer(header, body, footer);

                return;
            })
            .catch(function(error) {
                isRendering = false;
                renderable.deferred.reject(error);
                Notification.exception(error);
            });
    };

    /**
     * Create a function to render the Conversation.
     *
     * @param  {Object} header The conversation header container element.
     * @param  {Object} body The conversation body container element.
     * @param  {Object} footer The conversation footer container element.
     * @param  {Bool} isNewConversation Has someone else already initialised a conversation?
     * @return {Promise} Renderer promise.
     */
    var generateRenderFunction = function(header, body, footer, isNewConversation) {
        var rendererFunc = function(patch) {
            return Renderer.render(header, body, footer, patch);
        };

        if (!isNewConversation) {
            // Looks like someone got here before us! We'd better update our
            // UI to make sure it matches.
            var initialState = StateManager.buildInitialState(viewState.midnight, viewState.loggedInUserId, viewState.id);
            var syncPatch = Patcher.buildPatch(initialState, viewState);
            rendererFunc(syncPatch);
        }

        renderers.push(rendererFunc);

        return function(newState) {
            var patch = Patcher.buildPatch(viewState, newState);
            var deferred = $.Deferred();

            // Check if the patch has any data. Ignore empty patches.
            if (Object.keys(patch).length) {
                // Add the patch to the render buffer which gets processed in order.
                renderBuffer.push({
                    patch: patch,
                    deferred: deferred
                });
            } else {
                deferred.resolve(true);
            }
            // This is a great place to add in some console logging if you need
            // to debug something. You can log the current state, the next state,
            // and the generated patch and see exactly what will be updated.

            // Optimistically update the state. We're going to assume that the rendering
            // will always succeed. The rendering is asynchronous (annoyingly) so it's buffered
            // but it'll reach eventual consistency with the current state.
            viewState = newState;
            if (newState.id) {
                // Only cache created conversations.
                stateCache[newState.id] = {
                    state: newState,
                    messagesOffset: getMessagesOffset(),
                    loadedAllMessages: hasLoadedAllMessages()
                };
            }

            // Start processing the buffer.
            processRenderBuffer(header, body, footer);

            return deferred.promise();
        };
    };

    /**
     * Create a confirm action function.
     *
     * @param {Function} actionCallback The callback function.
     * @return {Function} Confirm action handler.
     */
    var generateConfirmActionHandler = function(actionCallback) {
        return function(e, data) {
            if (!viewState.loadingConfirmAction) {
                actionCallback(getOtherUserId());
                var newState = StateManager.setLoadingConfirmAction(viewState, false);
                render(newState);
            }
            data.originalEvent.preventDefault();
        };
    };

    /**
     * Send message event handler.
     *
     * @param {Object} e Element this event handler is called on.
     * @param {Object} data Data for this event.
     */
    var handleSendMessage = function(e, data) {
        var target = $(e.target);
        var footerContainer = target.closest(SELECTORS.FOOTER_CONTAINER);
        var textArea = footerContainer.find(SELECTORS.MESSAGE_TEXT_AREA);
        var text = textArea.val().trim();

        if (text !== '') {
            sendMessage(text);
            textArea.val('');
            textArea.focus();
        }

        data.originalEvent.preventDefault();
    };

    /**
     * Select message event handler.
     *
     * @param {Object} e Element this event handler is called on.
     * @param {Object} data Data for this event.
     */
    var handleSelectMessage = function(e, data) {
        var selection = window.getSelection();
        var target = $(e.target);

        if (selection.toString() != '') {
            // Bail if we're selecting.
            return;
        }

        if (target.is('a')) {
            // Clicking on a link in the message so ignore it.
            return;
        }

        var element = target.closest(SELECTORS.MESSAGE);
        var messageId = element.attr('data-message-id');

        toggleSelectMessage(messageId);

        data.originalEvent.preventDefault();
    };

    /**
     * Handle retry sending of message.
     *
     * @param {Object} e Element this event handler is called on.
     * @param {Object} data Data for this event.
     */
    var handleRetrySendMessage = function(e, data) {
        var target = $(e.target);
        var element = target.closest(SELECTORS.MESSAGE);
        var messageId = element.attr('data-message-id');
        var messages = viewState.messages.filter(function(message) {
            return message.id == messageId;
        });
        var message = messages.length ? messages[0] : null;

        if (message) {
            retrySendMessage(message);
        }

        data.originalEvent.preventDefault();
        data.originalEvent.stopPropagation();
        e.stopPropagation();
    };

    /**
     * Cancel edit mode event handler.
     *
     * @param {Object} e Element this event handler is called on.
     * @param {Object} data Data for this event.
     */
    var handleCancelEditMode = function(e, data) {
        cancelEditMode();
        data.originalEvent.preventDefault();
    };

    /**
     * Show the view contact page.
     *
     * @param {String} namespace Unique identifier for the Routes
     * @return {Function} View contact handler.
     */
    var generateHandleViewContact = function(namespace) {
        return function(e, data) {
            var otherUserId = getOtherUserId();
            var otherUser = viewState.members[otherUserId];
            MessageDrawerRouter.go(namespace, MessageDrawerRoutes.VIEW_CONTACT, otherUser);
            data.originalEvent.preventDefault();
        };
    };

    /**
     * Set this conversation as a favourite.
     *
     * @param {Object} e Element this event handler is called on.
     * @param {Object} data Data for this event.
     */
    var handleSetFavourite = function(e, data) {
        setFavourite().catch(Notification.exception);
        data.originalEvent.preventDefault();
    };

    /**
     * Unset this conversation as a favourite.
     *
     * @param {Object} e Element this event handler is called on.
     * @param {Object} data Data for this event.
     */
    var handleUnsetFavourite = function(e, data) {
        unsetFavourite().catch(Notification.exception);
        data.originalEvent.preventDefault();
    };

    /**
     * Show the view group info page.
     * Set this conversation as muted.
     *
     * @param {Object} e Element this event handler is called on.
     * @param {Object} data Data for this event.
     */
    var handleSetMuted = function(e, data) {
        setMuted().catch(Notification.exception);
        data.originalEvent.preventDefault();
    };

    /**
     * Unset this conversation as muted.
     *
     * @param {Object} e Element this event handler is called on.
     * @param {Object} data Data for this event.
     */
    var handleUnsetMuted = function(e, data) {
        unsetMuted().catch(Notification.exception);
        data.originalEvent.preventDefault();
    };

    /**
     * Handle clicking on the checkbox that toggles deleting messages for
     * all users.
     *
     * @param {Object} e Element this event handler is called on.
     */
    var handleDeleteMessagesForAllUsersToggle = function(e) {
        var newValue = $(e.target).prop('checked');
        var newState = StateManager.setDeleteMessagesForAllUsers(viewState, newValue);
        render(newState);
    };

    /**
     * Show the view contact page.
     *
     * @param {String} namespace Unique identifier for the Routes
     * @return {Function} View group info handler.
     */
    var generateHandleViewGroupInfo = function(namespace) {
        return function(e, data) {
            MessageDrawerRouter.go(
                namespace,
                MessageDrawerRoutes.VIEW_GROUP_INFO,
                {
                    id: viewState.id,
                    name: viewState.name,
                    subname: viewState.subname,
                    imageUrl: viewState.imageUrl,
                    totalMemberCount: viewState.totalMemberCount
                },
                viewState.loggedInUserId
            );
            data.originalEvent.preventDefault();
        };
    };

    /**
     * Handle clicking on the emoji toggle button.
     *
     * @param {Object} e The event
     * @param {Object} data The custom interaction event data
     */
    var handleToggleEmojiPicker = function(e, data) {
        var newState = StateManager.setShowEmojiPicker(viewState, !viewState.showEmojiPicker);
        render(newState);
        data.originalEvent.preventDefault();
    };

    /**
     * Handle clicking outside the emoji picker to close it.
     *
     * @param {Object} e The event
     */
    var handleCloseEmojiPicker = function(e) {
        var target = $(e.target);

        if (
            viewState.showEmojiPicker &amp;&amp;
            !target.closest(SELECTORS.EMOJI_PICKER_CONTAINER).length &amp;&amp;
            !target.closest(SELECTORS.TOGGLE_EMOJI_PICKER_BUTTON).length
        ) {
            var newState = StateManager.setShowEmojiPicker(viewState, false);
            render(newState);
        }
    };

    /**
     * Listen to, and handle events for conversations.
     *
     * @param {string} namespace The route namespace.
     * @param {Object} header Conversation header container element.
     * @param {Object} body Conversation body container element.
     * @param {Object} footer Conversation footer container element.
     */
    var registerEventListeners = function(namespace, header, body, footer) {
        var isLoadingMoreMessages = false;
        var messagesContainer = getMessagesContainer(body);
        var emojiPickerElement = footer.find(SELECTORS.EMOJI_PICKER);
        var emojiAutoCompleteContainer = footer.find(SELECTORS.EMOJI_AUTO_COMPLETE_CONTAINER);
        var messageTextArea = footer.find(SELECTORS.MESSAGE_TEXT_AREA);
        var headerActivateHandlers = [
            [SELECTORS.ACTION_REQUEST_BLOCK, generateConfirmActionHandler(requestBlockUser)],
            [SELECTORS.ACTION_REQUEST_UNBLOCK, generateConfirmActionHandler(requestUnblockUser)],
            [SELECTORS.ACTION_REQUEST_ADD_CONTACT, generateConfirmActionHandler(requestAddContact)],
            [SELECTORS.ACTION_REQUEST_REMOVE_CONTACT, generateConfirmActionHandler(requestRemoveContact)],
            [SELECTORS.ACTION_REQUEST_DELETE_CONVERSATION, generateConfirmActionHandler(requestDeleteConversation)],
            [SELECTORS.ACTION_CANCEL_EDIT_MODE, handleCancelEditMode],
            [SELECTORS.ACTION_VIEW_CONTACT, generateHandleViewContact(namespace)],
            [SELECTORS.ACTION_VIEW_GROUP_INFO, generateHandleViewGroupInfo(namespace)],
            [SELECTORS.ACTION_CONFIRM_FAVOURITE, handleSetFavourite],
            [SELECTORS.ACTION_CONFIRM_MUTE, handleSetMuted],
            [SELECTORS.ACTION_CONFIRM_UNFAVOURITE, handleUnsetFavourite],
            [SELECTORS.ACTION_CONFIRM_UNMUTE, handleUnsetMuted]
        ];
        var bodyActivateHandlers = [
            [SELECTORS.ACTION_CANCEL_CONFIRM, generateConfirmActionHandler(cancelRequest)],
            [SELECTORS.ACTION_CONFIRM_BLOCK, generateConfirmActionHandler(blockUser)],
            [SELECTORS.ACTION_CONFIRM_UNBLOCK, generateConfirmActionHandler(unblockUser)],
            [SELECTORS.ACTION_CONFIRM_ADD_CONTACT, generateConfirmActionHandler(addContact)],
            [SELECTORS.ACTION_CONFIRM_REMOVE_CONTACT, generateConfirmActionHandler(removeContact)],
            [SELECTORS.ACTION_CONFIRM_DELETE_SELECTED_MESSAGES, generateConfirmActionHandler(deleteSelectedMessages)],
            [SELECTORS.ACTION_CONFIRM_DELETE_CONVERSATION, generateConfirmActionHandler(deleteConversation)],
            [SELECTORS.ACTION_OKAY_CONFIRM, generateConfirmActionHandler(cancelRequest)],
            [SELECTORS.ACTION_REQUEST_ADD_CONTACT, generateConfirmActionHandler(requestAddContact)],
            [SELECTORS.ACTION_ACCEPT_CONTACT_REQUEST, generateConfirmActionHandler(acceptContactRequest)],
            [SELECTORS.ACTION_DECLINE_CONTACT_REQUEST, generateConfirmActionHandler(declineContactRequest)],
            [SELECTORS.MESSAGE, handleSelectMessage],
            [SELECTORS.DELETE_MESSAGES_FOR_ALL_USERS_TOGGLE, handleDeleteMessagesForAllUsersToggle],
            [SELECTORS.RETRY_SEND, handleRetrySendMessage]
        ];
        var footerActivateHandlers = [
            [SELECTORS.SEND_MESSAGE_BUTTON, handleSendMessage],
            [SELECTORS.TOGGLE_EMOJI_PICKER_BUTTON, handleToggleEmojiPicker],
            [SELECTORS.ACTION_REQUEST_DELETE_SELECTED_MESSAGES, generateConfirmActionHandler(requestDeleteSelectedMessages)],
            [SELECTORS.ACTION_REQUEST_ADD_CONTACT, generateConfirmActionHandler(requestAddContact)],
            [SELECTORS.ACTION_REQUEST_UNBLOCK, generateConfirmActionHandler(requestUnblockUser)],
        ];

        AutoRows.init(footer);

        if (emojiAutoCompleteContainer.length) {
            initialiseEmojiAutoComplete(
                emojiAutoCompleteContainer[0],
                messageTextArea[0],
                function(hasSuggestions) {
                    var newState = StateManager.setShowEmojiAutoComplete(viewState, hasSuggestions);
                    render(newState);
                },
                function(emoji) {
                    var newState = StateManager.setShowEmojiAutoComplete(viewState, false);
                    render(newState);

                    messageTextArea.focus();
                    var cursorPos = messageTextArea.prop('selectionStart');
                    var currentText = messageTextArea.val();
                    var textBefore = currentText.substring(0, cursorPos).replace(/\S*$/, '');
                    var textAfter = currentText.substring(cursorPos).replace(/^\S*/, '');

                    messageTextArea.val(textBefore + emoji + textAfter);
                    // Set the cursor position to after the inserted emoji.
                    messageTextArea.prop('selectionStart', textBefore.length + emoji.length);
                    messageTextArea.prop('selectionEnd', textBefore.length + emoji.length);
                }
            );
        }

        if (emojiPickerElement.length) {
            initialiseEmojiPicker(emojiPickerElement[0], function(emoji) {
                var newState = StateManager.setShowEmojiPicker(viewState, !viewState.showEmojiPicker);
                render(newState);

                messageTextArea.focus();
                var cursorPos = messageTextArea.prop('selectionStart');
                var currentText = messageTextArea.val();
                var textBefore = currentText.substring(0, cursorPos);
                var textAfter = currentText.substring(cursorPos, currentText.length);

                messageTextArea.val(textBefore + emoji + textAfter);
                // Set the cursor position to after the inserted emoji.
                messageTextArea.prop('selectionStart', cursorPos + emoji.length);
                messageTextArea.prop('selectionEnd', cursorPos + emoji.length);
            });
        }

        CustomEvents.define(header, [
            CustomEvents.events.activate
        ]);
        CustomEvents.define(body, [
            CustomEvents.events.activate
        ]);
        CustomEvents.define(footer, [
            CustomEvents.events.activate,
            CustomEvents.events.enter,
            CustomEvents.events.escape
        ]);
        CustomEvents.define(messagesContainer, [
            CustomEvents.events.scrollTop,
            CustomEvents.events.scrollLock
        ]);

        messagesContainer.on(CustomEvents.events.scrollTop, function(e, data) {
            var hasMembers = Object.keys(viewState.members).length > 1;

            if (!isResetting &amp;&amp; !isLoadingMoreMessages &amp;&amp; !hasLoadedAllMessages() &amp;&amp; hasMembers) {
                isLoadingMoreMessages = true;
                var newState = StateManager.setLoadingMessages(viewState, true);
                render(newState);

                loadMessages(viewState.id, LOAD_MESSAGE_LIMIT, getMessagesOffset(), NEWEST_FIRST, [])
                    .then(function() {
                        isLoadingMoreMessages = false;
                        setMessagesOffset(getMessagesOffset() + LOAD_MESSAGE_LIMIT);
                        return;
                    })
                    .catch(function(error) {
                        isLoadingMoreMessages = false;
                        Notification.exception(error);
                    });
            }

            data.originalEvent.preventDefault();
        });

        headerActivateHandlers.forEach(function(handler) {
            var selector = handler[0];
            var handlerFunction = handler[1];
            header.on(CustomEvents.events.activate, selector, handlerFunction);
        });

        bodyActivateHandlers.forEach(function(handler) {
            var selector = handler[0];
            var handlerFunction = handler[1];
            body.on(CustomEvents.events.activate, selector, handlerFunction);
        });

        footerActivateHandlers.forEach(function(handler) {
            var selector = handler[0];
            var handlerFunction = handler[1];
            footer.on(CustomEvents.events.activate, selector, handlerFunction);
        });

        footer.on(CustomEvents.events.enter, SELECTORS.MESSAGE_TEXT_AREA, function(e, data) {
            var enterToSend = footer.attr('data-enter-to-send');
            if (enterToSend &amp;&amp; enterToSend != 'false' &amp;&amp; enterToSend != '0') {
                handleSendMessage(e, data);
            }
        });

        footer.on(CustomEvents.events.escape, SELECTORS.EMOJI_PICKER_CONTAINER, handleToggleEmojiPicker);
        $(document.body).on('click', handleCloseEmojiPicker);

        PubSub.subscribe(MessageDrawerEvents.ROUTE_CHANGED, function(newRouteData) {
            if (newMessagesPollTimer) {
                if (newRouteData.route != MessageDrawerRoutes.VIEW_CONVERSATION) {
                    newMessagesPollTimer.stop();
                }
            }
        });
    };

    /**
     * Reset the timer that polls for new messages.
     *
     * @param  {Number} conversationId The conversation id
     */
    var resetMessagePollTimer = function(conversationId) {
        if (newMessagesPollTimer) {
            newMessagesPollTimer.stop();
        }

        newMessagesPollTimer = new BackOffTimer(
            getLoadNewMessagesCallback(conversationId, NEWEST_FIRST),
            BackOffTimer.getIncrementalCallback(
                viewState.messagePollMin * MILLISECONDS_IN_SEC,
                MILLISECONDS_IN_SEC,
                viewState.messagePollMax * MILLISECONDS_IN_SEC,
                viewState.messagePollAfterMax * MILLISECONDS_IN_SEC
            )
        );

        newMessagesPollTimer.start();
    };

    /**
     * Reset the state to the initial state and render the UI.
     *
     * @param  {Object} body Conversation body container element.
     * @param  {Number|null} conversationId The conversation id.
     * @param  {Object} loggedInUserProfile The logged in user's profile.
     */
    var resetState = function(body, conversationId, loggedInUserProfile) {
        // Reset all of the states back to the beginning if we're loading a new
        // conversation.
        if (newMessagesPollTimer) {
            newMessagesPollTimer.stop();
        }
        loadedAllMessages = false;
        messagesOffset = 0;
        newMessagesPollTimer = null;
        isRendering = false;
        renderBuffer = [];
        isResetting = true;
        isSendingMessage = false;
        isDeletingConversationContent = false;
        sendMessageBuffer = [];

        var loggedInUserId = loggedInUserProfile.id;
        var midnight = parseInt(body.attr('data-midnight'), 10);
        var messagePollMin = parseInt(body.attr('data-message-poll-min'), 10);
        var messagePollMax = parseInt(body.attr('data-message-poll-max'), 10);
        var messagePollAfterMax = parseInt(body.attr('data-message-poll-after-max'), 10);
        var initialState = StateManager.buildInitialState(
            midnight,
            loggedInUserId,
            conversationId,
            messagePollMin,
            messagePollMax,
            messagePollAfterMax
        );

        if (!viewState) {
            viewState = initialState;
        }

        render(initialState);
    };

    /**
     * Load a new empty private conversation between two users or self-conversation.
     *
     * @param  {Object} body Conversation body container element.
     * @param  {Object} loggedInUserProfile The logged in user's profile.
     * @param  {Int} otherUserId The other user's id.
     * @return {Promise} Renderer promise.
     */
    var resetNoConversation = function(body, loggedInUserProfile, otherUserId) {
        // Always reset the state back to the initial state so that the
        // state manager and patcher can work correctly.
        resetState(body, null, loggedInUserProfile);

        var resetNoConversationPromise = null;

        if (loggedInUserProfile.id != otherUserId) {
            // Private conversation between two different users.
            resetNoConversationPromise = Repository.getConversationBetweenUsers(
                loggedInUserProfile.id,
                otherUserId,
                true,
                true,
                0,
                0,
                LOAD_MESSAGE_LIMIT,
                0,
                NEWEST_FIRST
            );
        } else {
            // Self conversation.
            resetNoConversationPromise = Repository.getSelfConversation(
                loggedInUserProfile.id,
                LOAD_MESSAGE_LIMIT,
                0,
                NEWEST_FIRST
            );
        }

        return resetNoConversationPromise.then(function(conversation) {
                // Looks like we have a conversation after all! Let's use that.
                return resetByConversation(body, conversation, loggedInUserProfile);
            })
            .catch(function() {
                // Can't find a conversation. Oh well. Just load up a blank one.
                return loadEmptyPrivateConversation(loggedInUserProfile, otherUserId);
            });
    };

    /**
     * Load new messages into the conversation based on a time interval.
     *
     * @param  {Object} body Conversation body container element.
     * @param  {Number} conversationId The conversation id.
     * @param  {Object} loggedInUserProfile The logged in user's profile.
     * @return {Promise} Renderer promise.
     */
    var resetById = function(body, conversationId, loggedInUserProfile) {
        var cache = null;
        if (conversationId in stateCache) {
            cache = stateCache[conversationId];
        }

        // Always reset the state back to the initial state so that the
        // state manager and patcher can work correctly.
        resetState(body, conversationId, loggedInUserProfile);

        var promise = $.Deferred().resolve({}).promise();
        if (cache) {
            // We've seen this conversation before so there is no need to
            // send any network requests.
            var newState = cache.state;
            // Reset some loading states just in case they were left weirdly.
            newState = StateManager.setLoadingMessages(newState, false);
            newState = StateManager.setLoadingMembers(newState, false);
            setMessagesOffset(cache.messagesOffset);
            setLoadedAllMessages(cache.loadedAllMessages);
            render(newState);
        } else {
            promise = loadNewConversation(
                conversationId,
                loggedInUserProfile,
                LOAD_MESSAGE_LIMIT,
                0,
                NEWEST_FIRST
            );
        }

        return promise.then(function() {
            return resetMessagePollTimer(conversationId);
        });
    };

    /**
     * Load new messages into the conversation based on a time interval.
     *
     * @param  {Object} body Conversation body container element.
     * @param  {Object} conversation The conversation.
     * @param  {Object} loggedInUserProfile The logged in user's profile.
     * @return {Promise} Renderer promise.
     */
    var resetByConversation = function(body, conversation, loggedInUserProfile) {
        var cache = null;
        if (conversation.id in stateCache) {
            cache = stateCache[conversation.id];
        }

        // Always reset the state back to the initial state so that the
        // state manager and patcher can work correctly.
        resetState(body, conversation.id, loggedInUserProfile);

        var promise = $.Deferred().resolve({}).promise();
        if (cache) {
            // We've seen this conversation before so there is no need to
            // send any network requests.
            var newState = cache.state;
            // Reset some loading states just in case they were left weirdly.
            newState = StateManager.setLoadingMessages(newState, false);
            newState = StateManager.setLoadingMembers(newState, false);
            setMessagesOffset(cache.messagesOffset);
            setLoadedAllMessages(cache.loadedAllMessages);
            render(newState);
        } else {
            promise = loadExistingConversation(
                conversation,
                loggedInUserProfile,
                LOAD_MESSAGE_LIMIT,
                NEWEST_FIRST
            );
        }

        return promise.then(function() {
            return resetMessagePollTimer(conversation.id);
        });
    };

    /**
     * Setup the conversation page. This is a rather complex function because there are a
     * few combinations of arguments that can be provided to this function to show the
     * conversation.
     *
     * There are:
     * 1.) A conversation object with no action or other user id (e.g. from the overview page)
     * 2.) A conversation id with no action or other user id (e.g. from the contacts page)
     * 3.) No conversation/id with an action and other other user id. (e.g. from contact page)
     *
     * @param {string} namespace The route namespace.
     * @param {Object} header Conversation header container element.
     * @param {Object} body Conversation body container element.
     * @param {Object} footer Conversation footer container element.
     * @param {Object|Number|null} conversationOrId Conversation or id or null
     * @param {String} action An action to take on the conversation
     * @param {Number} otherUserId The other user id for a private conversation
     * @return {Object} jQuery promise
     */
    var show = function(namespace, header, body, footer, conversationOrId, action, otherUserId) {
        var conversation = null;
        var conversationId = null;

        // Check what we were given to identify the conversation.
        if (conversationOrId &amp;&amp; conversationOrId !== null &amp;&amp; typeof conversationOrId == 'object') {
            conversation = conversationOrId;
            conversationId = parseInt(conversation.id, 10);
        } else {
            conversation = null;
            conversationId = parseInt(conversationOrId, 10);
            conversationId = isNaN(conversationId) ? null : conversationId;
        }

        if (!conversationId &amp;&amp; action &amp;&amp; otherUserId) {
            // If we didn't get a conversation id got a user id then let's see if we've
            // previously loaded a private conversation with this user.
            conversationId = getCachedPrivateConversationIdFromUserId(otherUserId);
        }

        // This is a new conversation if:
        // 1. We don't already have a state
        // 2. The given conversation doesn't match the one currently loaded
        // 3. We have a view state without a conversation id and we weren't given one
        //    but we were given a different other user id. This happens when the user
        //    goes from viewing a user that they haven't yet initialised a conversation
        //    with to viewing a different user that they also haven't initialised a
        //    conversation with.
        var isNewConversation = !viewState || (viewState.id != conversationId) || (otherUserId &amp;&amp; otherUserId != getOtherUserId());

        if (!body.attr('data-init')) {
            // Generate the render function to bind the header, body, and footer
            // elements to it so that we don't need to pass them around this module.
            render = generateRenderFunction(header, body, footer, isNewConversation);
            registerEventListeners(namespace, header, body, footer);
            body.attr('data-init', true);
        }

        if (isNewConversation) {
            var renderPromise = null;
            var loggedInUserProfile = getLoggedInUserProfile(body);

            if (conversation) {
                renderPromise = resetByConversation(body, conversation, loggedInUserProfile, otherUserId);
            } else if (conversationId) {
                renderPromise = resetById(body, conversationId, loggedInUserProfile, otherUserId);
            } else {
                renderPromise = resetNoConversation(body, loggedInUserProfile, otherUserId);
            }

            return renderPromise
                .then(function() {
                    isResetting = false;
                    // Focus the first element that can receieve it in the header.
                    header.find(Constants.SELECTORS.CAN_RECEIVE_FOCUS).first().focus();
                    return;
                })
                .catch(function(error) {
                    isResetting = false;
                    Notification.exception(error);
                });
        }

        // We're not loading a new conversation so we should reset the poll timer to try to load
        // new messages.
        resetMessagePollTimer(conversationId);

        if (viewState.type == CONVERSATION_TYPES.PRIVATE &amp;&amp; action) {
            // There are special actions that the user can perform in a private (aka 1-to-1)
            // conversation.
            var currentOtherUserId = getOtherUserId();

            switch (action) {
                case 'block':
                    return requestBlockUser(currentOtherUserId);
                case 'unblock':
                    return requestUnblockUser(currentOtherUserId);
                case 'add-contact':
                    return requestAddContact(currentOtherUserId);
                case 'remove-contact':
                    return requestRemoveContact(currentOtherUserId);
            }
        }

        // Final fallback to return a promise if we didn't need to do anything.
        return $.Deferred().resolve().promise();
    };

    /**
     * String describing this page used for aria-labels.
     *
     * @return {Object} jQuery promise
     */
    var description = function() {
        return Str.get_string('messagedrawerviewconversation', 'core_message', viewState.name);
    };

    return {
        show: show,
        description: description
    };
});
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.10</a> on Sun Jul 03 2022 03:21:38 GMT+0000 (Coordinated Universal Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
